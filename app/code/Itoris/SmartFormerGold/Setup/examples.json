[{"name":"Contact Us Form Example","ext_access":["-1"],"autoresponsive":1,"maxsubmissions":"0","submitajax":1,"allow_editing":1,"description":"Sample form. Allows collecting visitors' requests from the external part of the site. Features:\n* Conditional branching. Displaying states when US is selected\n* Expanding the form when a new field is added\n* Protected with Captcha","globalphp":"\/*******************************************************************\/\n\/* SmartFormer Gold (c) Form PHP controller                                                    *\/\n\/* Product of IToris (c) 2017 http:\/\/www.itoris.com                                            *\/\n\/*******************************************************************\/\n\n\/\/EXAMPLE OF AJAX RESPONSE\nif ($this->getRequest()->getParam(\"sfg_ajax\")) {\n\t$post = $this->getRequest()->getPost()->toArray();\n\techo \"You posted the following data:\\n\";\n\tprint_r($post);\n\texit;\n}\n\n\/\/EXPLANATION: $this is the block containg the form, the form model can be accessed as $this->getForm();\n$form = $this->getForm();\n\n\/\/EXPLANATION: this method merges data in session and $this->getRequest()->getPost() and returns all values as array\n$allValues = $this->getPostedValues();\n\n\/\/EXPLANATION: this method validates the form data, returns TRUE or FALSE\n$isValid = $this->validate();\n\n\/\/EXPLANATION: if form is valid this method will perform all actions after submit: saves data to database, navigates between pages, emails, etc.\n$this->dispatch();\n\n\/\/EXAMPLE: howto populate name and email from session if customer is logged in\n$customerSession = $this->_objectManager->get('Magento\\Customer\\Model\\Session');\nif ($customerSession->isLoggedIn()) {\n\tif (!$form->getValue('name')) $form->setValue('name', $customerSession->getCustomer()->getName());\n\tif (!$form->getValue('email')) $form->setValue('email', $customerSession->getCustomer()->getEmail());\n}\n\n\/\/EXPLANATION: this method renders the current form page and returns HTML\n$this->page_html = $this->renderForm();\n\n\/\/EXPLANATION: output into the block\necho $this->page_html;","globaljs":"\/*******************************************************************\/\n\/\/ SmartFormer Gold (c) Form JS controller\n\/\/ Product of IToris (c) 2017 http:\/\/www.itoris.com\n\/*******************************************************************\/\n\nsfgObject.callback.afterLoad = function(){\n\t\/\/runs after the form has been fully initialized\n\t\/\/ajaxExample();\n}\n\nsfgObject.callback.beforeSubmit = function(btn){\n\treturn true; \/\/return false to stop submission in case custom validation\n}\n\nfunction ajaxExample() {\n\t\/\/Example of AJAX call to the form controller\n\tjQuery.post(sfgObject.config.ajax_url,\n\t\t{\n\t\t\tmyvar: \"Test1\",\n\t\t\tmyvar2: \"Test2\"\n\t\t}\n\t).done(function( data ) {\n\t\talert('Server response: ' + data);\n\t});\n}","globalhtml":"<form action=\"\" method=\"post\" name=\"sfgForm\" enctype=\"multipart\/form-data\">\n<%form_html%>\n<input type=\"hidden\" name=\"date_time\" \/>\n<\/form>","globalcss":".sfg-messages .sfg-fail {\n\tcolor: #ff0000;\n}","database":{"name":"itoris_sfg_example_contact","map":[["id",""],["name","name"],["email","email"],["message","message"],["file","file"],["country","country"],["state","state"],["company","company"],["phone","phone"],["province","province"],["mycanvas","mycanvas"]],"structure":"CREATE TABLE IF NOT EXISTS `itoris_sfg_example_contact` (\n  `id` int(11) NOT NULL AUTO_INCREMENT,\n  `name` varchar(255) NOT NULL,\n  `email` varchar(255) NOT NULL,\n  `message` text NOT NULL,\n  `file` varchar(255) NOT NULL,\n  `country` varchar(255) NOT NULL,\n  `state` varchar(255) NOT NULL,\n  `company` varchar(255) NOT NULL,\n  `phone` varchar(255) NOT NULL,\n  `province` varchar(255) NOT NULL,\n  `mycanvas` varchar(255) NOT NULL,\n  PRIMARY KEY (`id`)\n) ENGINE=InnoDB AUTO_INCREMENT=29 DEFAULT CHARSET=utf8"},"pages":["Page 1","Page 2","Page 3","Page 4","Page 5","Page 6","Page 7","Page 8","Page 9","Page 10"],"elements":[{"alias":"","tag":"span","page":0,"attributes":[],"events":[],"styles":[["left","206px",null],["top","7px",null],["font-size","18px",null],["opacity","",null],["width","136px",null]],"params":[],"content":"<b>Contact Us<\/b>"},{"alias":"","tag":"span","page":0,"attributes":[],"events":[],"styles":[["left","20px",null],["top","180px",null]],"params":[],"content":"Name:"},{"alias":"Name","tag":"input","page":0,"attributes":[["type","text",""],["name","name",null]],"events":[],"styles":[["width","300px",""],["left","160px",null],["top","180px",null]],"params":[["validation","",null]]},{"alias":"","tag":"span","page":0,"attributes":[],"events":[],"styles":[["left","20px",null],["top","220px",null]],"params":[],"content":"Email:<span style=\"color:red\">*<\/span>"},{"alias":"Email","tag":"input","page":0,"attributes":[["type","text",""],["name","email",null]],"events":[],"styles":[["width","300px",""],["left","160px",null],["top","220px",null]],"params":[["required",true,null],["validation","Email",null]]},{"alias":"","tag":"span","page":0,"attributes":[],"events":[],"styles":[["left","20px",null],["top","260px",null]],"params":[],"content":"Message:"},{"alias":"Message","tag":"textarea","page":0,"attributes":[["rows","5",""],["cols","30",""],["name","message",null]],"events":[],"styles":[["width","443px",""],["height","161px",""],["left","160px",null],["top","260px",null]],"params":[],"content":"Sample Text"},{"alias":"","tag":"span","page":0,"attributes":[],"events":[],"styles":[["left","20px",null],["top","436px",null]],"params":[],"content":"Upload File:"},{"alias":"File","tag":"input","page":0,"attributes":[["type","file",""],["size","30",""],["name","file",null]],"events":[],"styles":[["width","300px",""],["left","160px",null],["top","436px",null]],"params":[]},{"alias":"","tag":"span","page":0,"attributes":[],"events":[],"styles":[["left","20px",null],["top","476px",null]],"params":[],"content":"Country:"},{"alias":"Country","tag":"select","page":0,"attributes":[["name","country",null]],"events":[],"styles":[["width","300px",""],["left","160px",null],["top","476px",null]],"params":[],"content":"*United States\nAfghanistan\nAlbania\nAlgeria\nAmerican Samoa\nAndorra\nAngola\nAnguilla\nAntarctica\nAntigua and Barbuda\nArgentina\nArmenia\nAruba\nAustralia\nAustria\nAzerbaijan\nBahamas\nBahrain\nBangladesh\nBarbados\nBelarus\nBelgium\nBelize\nBenin\nBermuda\nBhutan\nBolivia\nBosnia and Herzegovina\nBotswana\nBrazil\nBrunei\nBulgaria\nBurkina Faso\nBurundi\nCambodia\nCameroon\nCanada\nCape Verde\nCayman Islands\nCentral African Republic\nChad\nChile\nChina\nColombia\nComoros\nCongo\nCook Islands\nCosta Rica\nCote D`ivoire Ivory Coast\nCroatia Hrvatska\nCuba\nCyprus\nCzech Republic\nDenmark\nDjibouti\nDominica\nDominican Republic\nEast Timor\nEcuador\nEgypt\nEl Salvador\nEquatorial Guinea\nEritrea\nEstonia\nEthiopia\nFaroe Islands\nFiji Islands\nFinland\nFrance\nFrench Guiana\nFrench Polynesia\nFrench Southern Territories\nGabon\nGambia, The\nGeorgia\nGermany\nGhana\nGibraltar\nGreece\nGreenland\nGrenada\nGuadeloupe\nGuam\nGuatemala\nGuinea\nGuinea-Bissau\nGuyana\nHaiti\nHonduras\nHungary\nIceland\nIndia\nIndonesia\nIran\nIraq\nIreland\nIsrael\nItaly\nJamaica\nJapan\nJordan\nKazakhstan\nKenya\nKiribati\nKorea\nKorea, North\nKuwait\nKyrgyzstan\nLaos\nLatvia\nLebanon\nLesotho\nLiberia\nLibya\nLiechtenstein\nLithuania\nLuxembourg\nMacedonia\nMadagascar\nMalawi\nMalaysia\nMaldives\nMali\nMalta\nMarshall Islands\nMartinique\nMauritania\nMauritius\nMexico\nMicronesia\nMoldova\nMonaco\nMongolia\nMontserrat\nMorocco\nMozambique\nNamibia\nNauru\nNepal\nNetherlands Antilles\nNetherlands, The\nNew Caledonia\nNew Zealand\nNicaragua\nNiger\nNigeria\nNiue\nNorfolk Island\nNorthern Mariana Islands\nNorway\nOman\nPakistan\nPalau\nPanama\nPapua New Guinea\nParaguay\nPeru\nPhilippines\nPitcairn Island\nPoland\nPortugal\nPuerto Rico\nQatar\nReunion\nRomania\nRussia\nRwanda\nSaint Helena\nSaint Kitts and Nevis\nSaint Lucia\nSaint Pierre and Miquelon\nSamoa\nSan Marino\nSao Tome and Principe\nSaudi Arabia\nSenegal\nSeychelles\nSierra Leone\nSingapore\nSlovakia\nSlovenia\nSolomon Islands\nSomalia\nSouth Africa\nSpain\nSri Lanka\nSudan\nSuriname\nSwaziland\nSweden\nSwitzerland\nSyria\nTaiwan\nTajikistan\nTanzania\nThailand\nTogo\nTokelau\nTonga\nTrinidad and Tobago\nTunisia\nTurkey\nTurkmenistan\nTurks and Caicos Islands\nTuvalu\nUganda\nUkraine\nUnited Arab Emirates\nUnited Kingdom\nUruguay\nUzbekistan\nVanuatu\nVenezuela\nVietnam\nVirgin Islands British\nVirgin Islands US\nWallis and Futuna Islands\nYemen\nYugoslavia\nZambia\nZimbabwe"},{"alias":"","tag":"span","page":0,"attributes":[],"events":[],"styles":[["left","20px",null],["top","516px",null]],"params":[["hidden-if","{{country}} != \"United States\"",null]],"content":"State:"},{"alias":"State","tag":"select","page":0,"attributes":[["name","state",null]],"events":[],"styles":[["width","300px",""],["left","160px",null],["top","516px",null]],"params":[["hidden-if","{{country}} != \"United States\"",null]],"content":"|-- please select --\nAlabama\nAlaska\nAmerican Samoa\nArizona\nArkansas\nCalifornia\nColorado\nConnecticut\nDelaware\nDistrict of Columbia\nFlorida\nGeorgia\nGuam\nHawaii\nIdaho\nIllinois\nIndiana\nIowa\nKansas\nKentucky\nLouisiana\nMaine\nMaryland\nMassachusetts\nMichigan\nMinnesota\nMississippi\nMissouri\nMontana\nNebraska\nNevada\nNew Hampshire\nNew Jersey\nNew Mexico\nNew York\nNorth Carolina\nNorth Dakota\nNorthern Marianas Islands\nOhio\nOklahoma\nOregon\nPennsylvania\nPuerto Rico\nRhode Island\nSouth Carolina\nSouth Dakota\nTennessee\nTexas\nUtah\nVermont\nVirginia\nVirgin Islands\nWashington\nWest Virginia\nWisconsin\nWyoming"},{"alias":"","tag":"span","page":0,"attributes":[],"events":[],"styles":[["left","20px",null],["top","593px",null]],"params":[],"content":"Company:"},{"alias":"Company","tag":"input","page":0,"attributes":[["type","text",""],["name","company",null]],"events":[],"styles":[["width","300px",""],["left","160px",null],["top","593px",null]],"params":[]},{"alias":"","tag":"span","page":0,"attributes":[],"events":[],"styles":[["left","20px",null],["top","633px",null]],"params":[],"content":"Phone:"},{"alias":"Phone","tag":"input","page":0,"attributes":[["type","text",""],["name","phone",null]],"events":[],"styles":[["width","300px",""],["left","160px",null],["top","633px",null]],"params":[["validation","Phone",null]]},{"alias":"","tag":"img","page":0,"attributes":[["src","{captcha0}",""],["alt","captcha code",""],["name","captcha_image",null]],"events":[],"styles":[["left","160px",null],["top","673px",null]],"params":[["captcha-type","0",""],["captcha-length","6",""],["captcha-symbols","abcsefghijklmnopqrstuvwxyz023456789",""],["captcha-field","captcha_field",null]]},{"alias":"","tag":"img","page":0,"attributes":[["src","{base_url}pub\/media\/sfg\/images\/reload.gif",""],["alt","reload",""],["title","Reload Captcha",null]],"events":[["onclick","window.getSfgObject(this).captchaReload('captcha_image')",null]],"styles":[["left","315px",null],["top","673px",null],["width","16px",null],["height","16px",null],["cursor","pointer",null]],"params":[["on-click-action","4",null]]},{"alias":"","tag":"span","page":0,"attributes":[],"events":[],"styles":[["left","160px",null],["top","711px",null],["font-size","9px",null]],"params":[],"content":"Please, enter the text shown in the image into the field below."},{"alias":"","tag":"span","page":0,"attributes":[],"events":[],"styles":[["left","20px",null],["top","733px",null]],"params":[],"content":"Protection Code:<span style=\"color:#ff0000;\">*<\/span>"},{"alias":"","tag":"input","page":0,"attributes":[["type","text",""],["name","captcha_field",null]],"events":[],"styles":[["width","180px",""],["left","160px",null],["top","733px",null]],"params":[["required",true,null]]},{"alias":"","tag":"input","page":0,"attributes":[["type","submit",""],["value","Submit",""],["class","action primary",null]],"events":[],"styles":[["width","80px",""],["left","160px",null],["top","782px",null]],"params":[["on-click-action","1",""],["save-data",true,null],["after-submit","0",null],["selected-page","0",null],["email-to-admin",true,null],["email-to-user",true,null],["admin-email","admin@admin.com",null],["admin-email-template","2",null],["user-email-addr-field","email",null],["user-email-template","1",null]]},{"alias":"","tag":"span","page":1,"attributes":[],"events":[],"styles":[["left","20px",null],["top","12px",null],["font-size","16px",null]],"params":[],"content":"<b>Thank you for contacting us!<\/b>"},{"alias":"","tag":"div","page":1,"attributes":[],"events":[],"styles":[["left","20px",null],["top","46px",null],["line-height","24px",null]],"params":[],"content":"<b>Below is the information you have submitted:<\/b><br \/><br \/>\n<b>Name:<\/b> {{name}}<br \/>\n<b>Email:<\/b> {{email}}<br \/>\n<b>Message:<\/b> {{message}}<br \/>\n<b>File Name:<\/b> {{file}}<br \/>\n<b>Country:<\/b> {{country}}<br \/>\n<b>Name:<\/b> {{name}}<br \/>\n<b>State:<\/b> {{state}}{{region}}<br \/>\n<b>Company:<\/b> {{company}}<br \/>\n<b>Phone:<\/b> {{phone}}<br \/>"},{"alias":"","tag":"span","page":0,"attributes":[],"events":[],"styles":[["left","20px",null],["top","553px",null]],"params":[["hidden-if","{{country}} == \"United States\"",null]],"content":"Province:"},{"alias":"Province","tag":"input","page":0,"attributes":[["type","text",""],["name","province",null]],"events":[],"styles":[["width","300px",""],["left","160px",null],["top","553px",null]],"params":[["hidden-if","{{country}} == \"United States\"",null]]},{"alias":"","tag":"span","page":0,"attributes":[],"events":[],"styles":[["left","206px",null],["top","41px",null],["width","362px",null],["line-height","18px",null],["font-size","14px",null]],"params":[],"content":"<p><strong>Store Hours:<\/strong><\/p>\n<ul>\n<li>Monday &ndash; Friday: 10:00 a.m. &ndash; 9:00 p.m.<\/li>\n<li>Saturday: 9:30 a.m. &ndash; 9:00 p.m.<\/li>\n<li>Sunday: 11 a.m. &ndash; 7 p.m.<\/li>\n<\/ul>"},{"alias":"","tag":"img","page":0,"attributes":[["src","{base_url}pub\/media\/sfg\/images\/contact.png",""],["alt","image",""]],"events":[],"styles":[["left","20px",null],["top","11px",null],["width","143px",null],["opacity","0.8",null]],"params":[]}],"email_templates":[{"id":1,"name":"email to user","fromName":"admin of website","fromEmail":"admin@website.com","subject":"Your details on website.com","cc":"","bcc":"","body":"<p>{{template config_path=\"design\/email\/header_template\"}}<\/p>\n<p><strong>Dear {{name}},<\/strong><\/p>\n<p>Thank you for contacting us! One of our representatives will reply to you shortly.<\/p>\n<p>Below is the information you posted:<\/p>\n<p>{{%all_data%}}<\/p>\n<p>{{template config_path=\"design\/email\/footer_template\"}}<\/p>","format":"1"},{"id":2,"name":"email to admin","fromName":"admin of website","fromEmail":"admin@website.com","subject":"New user details","cc":"","bcc":"","body":"<p>{{template config_path=\"design\/email\/header_template\"}}<\/p>\n<p><strong>Hello Admin,<\/strong><\/p>\n<p>The form has been submitted. Please find below the details:<\/p>\n<p>{{%all_data%}}<\/p>\n<p>{{template config_path=\"design\/email\/footer_template\"}}<\/p>","format":"1"},{"id":3,"name":"your custom email","fromName":"From Name","fromEmail":"from@email.com","subject":"Custom email subject","cc":"","bcc":"","body":"<p>{{template config_path=\"design\/email\/header_template\"}}<\/p>\n<p>Fill in your custom email. You can create as meny templates as you wish. Click 'New Document' icon to start<\/p>\n<p>&nbsp;<\/p>\n<p>{{template config_path=\"design\/email\/footer_template\"}}<\/p>","format":"1"}],"validators":[{"alias":"Required","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = 'Field: %s. Field is required';\nmsg = msg.replace('%s', sfgName); \nif (obj.type && (obj.type.toLowerCase()=='checkbox' || obj.type.toLowerCase()=='radio') && !obj.checked) return msg; \nif (obj.tagName.toLowerCase()=='select' && (obj.selectedIndex==-1 || obj.selectedIndex==0)) return msg; \nif (obj.value=='') return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\nif (empty($value)) return 'Field: '.$this->getAlias().'. Field is required';"},{"alias":"Group Required","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = 'Group: %s. Please select a value';\nmsg = msg.replace('%s', sfgName); \nvar objs = document.getElementsByName(obj.name); \nvar checked = false; \nfor (i=0; i<objs.length; i++) if (objs[i].checked) { checked = true; break; } \nif (!checked) return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\nif (empty($value)) return 'Group: '.$this->getAlias().'. Please select a value';"},{"alias":"Check identical","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object, obj2 - another HTML element for comparing\nvar msg = 'Field: %s. Entities are not identical';\nmsg = msg.replace('%s', sfgName);\nvar el2 = document.getElementsByName(obj2)[0];\nif (el2 && obj.value != el2.value) return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\n$elements = $this->getForm()->getElementsByName($this->getParam('equal-to'));\n$value2 = count($elements) ? $elements[0]->getPostedValue() : null;\nif (!is_null($value2) && $value != $value2) return 'Fields '.$this->getAlias().' and '.$elements[0]->getAlias().' should be identical';"},{"alias":"Email","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = 'Field: %s. Invalid email. Please specify a valid value';\nmsg = msg.replace('%s', sfgName);\nvar RegExp=\/^((([a-z]|[0-9]|!|#|$|%|&|'|\\*|\\+|\\-|\\\/|=|\\?|\\^|_|`|\\{|\\||\\}|~)+(\\.([a-z]|[0-9]|!|#|$|%|&|'|\\*|\\+|\\-|\\\/|=|\\?|\\^|_|`|\\{|\\||\\}|~)+)*)@((((([a-z]|[0-9])([a-z]|[0-9]|\\-){0,61}([a-z]|[0-9])\\.))*([a-z]|[0-9])([a-z]|[0-9]|\\-){0,61}([a-z]|[0-9])\\.)[\\w]{2,4}|(((([0-9]){1,3}\\.){3}([0-9]){1,3}))|(\\[((([0-9]){1,3}\\.){3}([0-9]){1,3})\\])))$\/;\nif (obj.value!='' && !RegExp.test(obj.value.toLowerCase())) return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\n$RegExp=\"\/^((([a-z]|[0-9]|!|#|$|%|&|'|\\*|\\+|\\-|\\\/|=|\\?|\\^|_|`|\\{|\\||\\}|~)+(\\.([a-z]|[0-9]|!|#|$|%|&|'|\\*|\\+|\\-|\\\/|=|\\?|\\^|_|`|\\{|\\||\\}|~)+)*)@((((([a-z]|[0-9])([a-z]|[0-9]|\\-){0,61}([a-z]|[0-9])\\.))*([a-z]|[0-9])([a-z]|[0-9]|\\-){0,61}([a-z]|[0-9])\\.)[\\w]{2,4}|(((([0-9]){1,3}\\.){3}([0-9]){1,3}))|(\\[((([0-9]){1,3}\\.){3}([0-9]){1,3})\\])))$\/\";\nif (is_array($value) || $value && !preg_match($RegExp, strtolower($value))) return 'Field: '.$this->getAlias().'. Incorrect Email address';"},{"alias":"Zip","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = 'Field: %s. Please specify a correct zip\/postal';\nmsg = msg.replace('%s', sfgName);\nvar letters='qwertyuiopasdfghjklzxcvbnm -1234567890';\nvar ps=false;\nfor(i=0;i<obj.value.length;i++) if (letters.indexOf(obj.value.toLowerCase().substr(i,1))<0) ps=true;\nif (ps || obj.value.length>10) return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\nif (is_array($value)) $value = '*'; \/\/invalidate\nfor($i=0; $i<strlen($value); $i++) {\n\tif (strpos('qwertyuiopasdfghjklzxcvbnm -1234567890', substr(strtolower($value), $i, 1))===false) return 'Field: '.$this->getAlias().'. Please specify a correct zip\/postal';\n}"},{"alias":"ZipUS","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = 'Field: %s. Invalid US Zip. Please specify a valid value';\nmsg = msg.replace('%s', sfgName);\nvar zipPattern1=\/^(\\d{5})$\/;\nvar zipPattern2=\/^(\\d{5})\\-(\\d{4})$\/;\nif ((obj.value.match(zipPattern1)==null)&&(obj.value.match(zipPattern2)==null)&&obj.value.length>0) return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\n$zipPattern1=\"\/^(\\d{5})$\/\";\n$zipPattern2=\"\/^(\\d{5})\\-(\\d{4})$\/\";\nif (is_array($value) || $value && !preg_match($zipPattern1, $value) && !preg_match($zipPattern2, $value)) return 'Field: '.$this->getAlias().'. Incorrect Zip';"},{"alias":"Phone","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = 'Field: %s. Please specify a correct phone number';\nmsg = msg.replace('%s', sfgName);\nvar letters='1234567890 -.()+';\nvar ps=false;\nfor(i=0;i<obj.value.length;i++) if (letters.indexOf(obj.value.toLowerCase().substr(i,1))<0) ps=true;\nif (ps || obj.value.length>10) return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\nfor($i=0; $i<strlen($value); $i++) {\n\tif (strpos('1234567890 -.()+', substr($value, $i, 1))===false) return 'Field: '.$this->getAlias().'. Incorrect phone number';\n}"},{"alias":"PhoneUS","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = 'Field: %s. Invalid value! Please, provide a phone number in format XXX-XXX-XXXX, where X is a digit.';\nmsg = msg.replace('%s', sfgName);\nvar phonePattern=\/^(\\d{3})\\-(\\d{3})\\-(\\d{4})$\/;\nif ((obj.value.match(phonePattern)==null)&&obj.value.length>0) return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\n$phonePattern=\"\/^(\\d{3})\\-(\\d{3})\\-(\\d{4})$\/\";\nif (is_array($value) || $value && !preg_match($phonePattern, $value)) return 'Field: '.$this->getAlias().'. Please, provide a phone number in format XXX-XXX-XXXX, where X is a digit';"},{"alias":"Password","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = 'Field: %s. The password should contain 6 to 12 symbols';\nmsg = msg.replace('%s', sfgName);\nif ((obj.value.length<6 || obj.value.length>12) && obj.value.length!=0) return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\nif (is_array($value) || $value && (strlen($value) < 6 || strlen($value) > 12)) return 'Field: '.$this->getAlias().'. The password should have 6 to 12 symbols';"},{"alias":"CreditCardNumber","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = 'Field: %s. Please specify a correct credit card number';\nmsg = msg.replace('%s', sfgName);\nvar ccPattern=\/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\\d{3})\\d{11})$\/;\nif ((obj.value.match(ccPattern)==null)&&obj.value.length>0) return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\n$ccPattern=\"\/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\\d{3})\\d{11})$\/\";\nif (is_array($value) || $value && !preg_match($ccPattern, strtolower($value))) return 'Field: '.$this->getAlias().'. Incorrect credit card number';"},{"alias":"CreditCardCVV","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = 'Field: %s. Please specify a correct credit card CVV';\nmsg = msg.replace('%s', sfgName);\nvar letters='1234567890';\nvar ps=false;\nfor(i=0;i<obj.value.length;i++) if (letters.indexOf(obj.value.toLowerCase().substr(i,1))<0) ps=true;\nif (ps || (obj.value.length<3 && obj.value.length!=0) || obj.value.length>4) return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\nif (is_array($value) || $value && (strlen($value) < 3 || strlen($value) > 4 || !is_numeric($value))) return 'Field: '.$this->getAlias().'. Incorrect credit card CVV';\n"},{"alias":"Money","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = 'Field: %s. Please specify currency correctly';\nmsg = msg.replace('%s', sfgName);\nvar letters='1234567890.';\nvar ps=false; for(i=0;i<obj.value.length;i++) if (letters.indexOf(obj.value.toLowerCase().substr(i,1))<0) ps=true;\nif (ps || obj.value.length>10 || Math.floor(obj.value*100)\/100!=obj.value-0) return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\nif (is_array($value) || $value && (floor(floatval($value)*100)\/100!=floatval($value) || !is_numeric($value))) return 'Field: '.$this->getAlias().'. Incorrect amount';"},{"alias":"URL","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = 'Field: %s. Please specify a valid URL';\nmsg = msg.replace('%s', sfgName);\nvar RegExp=\/^(([\\w]+:)?\\\/\\\/)?(([\\d\\w]|%[a-fA-f\\d]{2,2})+(:([\\d\\w]|%[a-fA-f\\d]{2,2})+)?@)?([\\d\\w][-\\d\\w]{0,253}[\\d\\w]\\.)+[\\w]{2,4}(:[\\d]+)?(\\\/([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)*(\\?(&?([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})=?)*)?(#([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)?$\/;\nif (obj.value!='' && !RegExp.test(obj.value)) return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\n$RegExp=\"\/^(([\\w]+:)?\\\/\\\/)?(([\\d\\w]|%[a-fA-f\\d]{2,2})+(:([\\d\\w]|%[a-fA-f\\d]{2,2})+)?@)?([\\d\\w][-\\d\\w]{0,253}[\\d\\w]\\.)+[\\w]{2,4}(:[\\d]+)?(\\\/([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)*(\\?(&?([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})=?)*)?(#([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)?$\/\";\nif (is_array($value) || $value && !preg_match($RegExp, strtolower($value))) return 'Field: '.$this->getAlias().'. Incorrect URL';"},{"alias":"IP","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = 'Field: %s. Please specify a correct IP';\nmsg = msg.replace('%s', sfgName);\nvar RegExp=\/^(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})$\/;\nvar a=obj.value.split('.');\nif (obj.value!='' && !RegExp.test(obj.value) || a[0]>255 || a[1]>255 || a[2]>255 || a[3]>255) return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\nif (is_array($value) || $value && ip2long($value) === false) return 'Field: '.$this->getAlias().'. Incorrect IP';"},{"alias":"SSN","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = 'Field: %s. Invalid value! Please, provide a SSN in format XXX-XX-XXXX or XX-XXXXXXX, where X is a digit.';\nmsg = msg.replace('%s', sfgName);\nvar ssnPattern1 = \/^(\\d{3})\\-(\\d{2})\\-(\\d{4})$\/;\nvar ssnPattern2 = \/^(\\d{2})\\-(\\d{7})$\/;\nif ((obj.value.match(ssnPattern1)==null)&&(obj.value.match(ssnPattern2)==null)&&obj.value.length>0) return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\n$ssnPattern1=\"\/^(\\d{3})\\-(\\d{2})\\-(\\d{4})$\/\";\n$ssnPattern2=\"\/^(\\d{2})\\-(\\d{7})$\/\";\nif (is_array($value) || $value && !preg_match($ssnPattern1, $value) && !preg_match($ssnPattern2, $value)) return 'Field: '.$this->getAlias().'. SSN should be in format XXX-XX-XXXX or XX-XXXXXXX, where X is a digit.';"},{"alias":"Date","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = 'Field: %s. Invalid value! Field value should be in MM\/DD\/YYYY format.';\nmsg = msg.replace('%s', sfgName);\nvar a=obj.value.split('\/');\nif (a[0]-0>0 && a[0]-0<=12 && a[1]-0>0 && a[1]-0<=31 && a[2]-0>1000 && a[2]-0<=9999 && a[3]==null ||obj.value.length==0) return null; else return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\n$datePattern=\"\/^(\\d{1,2})\\\/(\\d{1,2})\\\/(\\d{4})$\/\";\nif (is_array($value) || $value && !preg_match($datePattern, $value)) return 'Field: '.$this->getAlias().'. Date should be in MM\/DD\/YYYY format.';"},{"alias":"DateShort","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = 'Field: %s. Invalid value! Field value should be in MM\/DD\/YY format';\nmsg = msg.replace('%s', sfgName);\nvar a=obj.value.split('\/');\nif (a[0]-0>0 && a[0]-0<=12 && a[1]-0>0 && a[1]-0<=31 && a[2]-0>=0 && a[2]-0<=99 && a[3]==null ||obj.value.length==0) return null; else return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\n$datePattern=\"\/^(\\d{1,2})\\\/(\\d{1,2})\\\/(\\d{2})$\/\";\nif (is_array($value) || $value && !preg_match($datePattern, $value)) return 'Field: '.$this->getAlias().'. Date should be in MM\/DD\/YY format.';"},{"alias":"Time","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = 'Field: %s. Invalid value! Field value should be in HH:MM format.';\nmsg = msg.replace('%s', sfgName);\nvar a=obj.value.split(':');\nif (a[0]-0>=0 && a[0]-0<24 && a[1]-0>=0 && a[1]-0<60 && a[2]==null ||obj.value.length==0) return null; else return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\n$timePattern=\"\/^(\\d{1,2})\\:(\\d{2})$\/\";\nif (is_array($value) || $value && !preg_match($timePattern, $value)) return 'Field: '.$this->getAlias().'. Time should be in HH:MM format.';"}]},{"name":"PDF Form Example","ext_access":["-1"],"autoresponsive":0,"maxsubmissions":0,"submitajax":1,"allow_editing":1,"description":"Ability to fill in the form and convert it into the PDF format. Digital Signature to sign the form.","globalphp":"\/*******************************************************************\/\r\n\/* SmartFormer Gold (c) Form PHP controller                                                    *\/\r\n\/* Product of IToris (c) 2017 http:\/\/www.itoris.com                                            *\/\r\n\/*******************************************************************\/\r\n\r\n\/\/EXAMPLE OF AJAX RESPONSE\r\nif ($this->getRequest()->getParam(\"sfg_ajax\")) {\r\n\t$post = $this->getRequest()->getPost()->toArray();\r\n\techo \"You posted the following data:\\n\";\r\n\tprint_r($post);\r\n\texit;\r\n}\r\n\r\n\/\/EXPLANATION: $this is the block containg the form, the form model can be accessed as $this->getForm();\r\n$form = $this->getForm();\r\n\r\n\/\/EXPLANATION: this method merges data in session and $this->getRequest()->getPost() and returns all values as array\r\n$allValues = $this->getPostedValues();\r\n\r\n\/\/EXPLANATION: this method validates the form data, returns TRUE or FALSE\r\n$isValid = $this->validate();\r\n\r\n\/\/EXPLANATION: if form is valid this method will perform all actions after submit: saves data to database, navigates between pages, emails, etc.\r\n$this->dispatch();\r\n\r\n\/\/EXAMPLE: howto populate name and email from session if customer is logged in\r\n$customerSession = $this->_objectManager->get('Magento\\Customer\\Model\\Session');\r\nif ($customerSession->isLoggedIn()) {\r\n\tif (!$form->getValue('name')) $form->setValue('name', $customerSession->getCustomer()->getName());\r\n\tif (!$form->getValue('email')) $form->setValue('email', $customerSession->getCustomer()->getEmail());\r\n}\r\n\r\n\/\/EXPLANATION: this method renders the current form page and returns HTML\r\n$this->page_html = $this->renderForm();\r\n\r\n\/\/EXPLANATION: output into the block\r\necho $this->page_html;","globaljs":"\/*******************************************************************\/\r\n\/\/ SmartFormer Gold (c) Form JS controller\r\n\/\/ Product of IToris (c) 2017 http:\/\/www.itoris.com\r\n\/*******************************************************************\/\r\n\r\nsfgObject.callback.afterLoad = function(){\r\n\t\/\/runs after the form has been fully initialized\r\n\t\/\/ajaxExample();\r\n}\r\n\r\nsfgObject.callback.beforeSubmit = function(btn){\r\n\treturn true; \/\/return false to stop submission in case custom validation\r\n}\r\n\r\nfunction ajaxExample() {\r\n\t\/\/Example of AJAX call to the form controller\r\n\tjQuery.post(sfgObject.config.ajax_url,\r\n\t\t{\r\n\t\t\tmyvar: \"Test1\",\r\n\t\t\tmyvar2: \"Test2\"\r\n\t\t}\r\n\t).done(function( data ) {\r\n\t\talert('Server response: ' + data);\r\n\t});\r\n}","globalhtml":"<form action=\"\" method=\"post\" name=\"sfgForm\" enctype=\"multipart\/form-data\">\r\n<%form_html%>\r\n<input type=\"hidden\" name=\"date_time\" \/>\r\n<\/form>","globalcss":".sfg-messages .sfg-fail {\n\tcolor: #ff0000;\n}\n\n\n.sfg-form input[type=\"text\"], .sfg-pdf input[type=\"text\"] {border:none; border-bottom:1px solid #555555;}\n.sfg-pdf p {margin:0;}","database":{"name":"itoris_sfg_example_pdf_form","map":[["id",""],["last_name","last_name"],["first_name","first_name"],["middle_name","middle_name"],["suffix","suffix"],["prefix","prefix"],["address1","address1"],["address2","address2"],["city","city"],["state","state"],["zip","zip"],["home_phone","home_phone"],["work_phone","work_phone"],["emergency_phone","emergency_phone"],["emergency_name","emergency_name"],["emergency_relationship","emergency_relationship"],["ssn","ssn"],["dob","dob"],["sex","sex"],["education","education[]"],["signature","signature"]],"structure":"CREATE TABLE IF NOT EXISTS `itoris_sfg_example_pdf_form` (\n  `id` int(11) NOT NULL AUTO_INCREMENT,\n  `last_name` varchar(255) NOT NULL,\n  `first_name` varchar(255) NOT NULL,\n  `middle_name` varchar(255) NOT NULL,\n  `suffix` varchar(255) NOT NULL,\n  `prefix` varchar(255) NOT NULL,\n  `address1` varchar(255) NOT NULL,\n  `address2` varchar(255) NOT NULL,\n  `city` varchar(255) NOT NULL,\n  `state` varchar(255) NOT NULL,\n  `zip` varchar(255) NOT NULL,\n  `home_phone` varchar(255) NOT NULL,\n  `work_phone` varchar(255) NOT NULL,\n  `emergency_phone` varchar(255) NOT NULL,\n  `emergency_name` varchar(255) NOT NULL,\n  `emergency_relationship` varchar(255) NOT NULL,\n  `ssn` varchar(255) NOT NULL,\n  `dob` varchar(255) NOT NULL,\n  `sex` varchar(255) NOT NULL,\n  `education` varchar(255) NOT NULL,\n  `signature` varchar(255) NOT NULL,\n  PRIMARY KEY (`id`)\n) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8"},"pages":["Page 1","Page 2","Page 3","Page 4","Page 5","Page 6","Page 7","Page 8","Page 9","Page 10"],"elements":[{"alias":"","tag":"input","page":0,"attributes":[["type","button",""],["value","Generate PDF",""],["class","action primary pdf-hidden",""]],"events":[],"styles":[["width","127px",""],["left","5px",null],["top","984px",null],["height","36px",null],["background-color","#ff8800",null]],"params":[["on-click-action","3",null]]},{"alias":"","tag":"span","page":0,"attributes":[],"events":[],"styles":[["left","0px",null],["top","10px",null],["width","710px",null],["height","115px",null],["background-color","#635654",null],["color","#FFFFFF",null],["font-size","14px",null],["line-height","22px",null],["padding","5px 10px",null]],"params":[],"content":"<center><strong>Example of a Web form with ability to convert into PDF<\/strong><\/center>\n<p>The form is built using the professional form manager SmartFormer Gold created specially for Magento 2 websites. Please fill in the form, sign it using the mouse or touchpad and click \"Convert to PDF\" to download the PDF document.<\/p>"},{"alias":"","tag":"img","page":0,"attributes":[["src","{base_url}pub\/media\/sfg\/images\/luma-logo.png",""],["alt","image",""]],"events":[],"styles":[["left","0px",null],["top","148px",null]],"params":[]},{"alias":"","tag":"span","page":0,"attributes":[],"events":[],"styles":[["left","390px",null],["top","145px",null],["width","340px",null],["font-size","20px",null],["height","62px",null],["background-color","#635654",null],["color","#FFFFFF",null]],"params":[],"content":"<center style=\"margin-top:20px\">SALES DEPARTMENT<\/center>"},{"alias":"","tag":"span","page":0,"attributes":[],"events":[],"styles":[["left","0px",null],["top","275px",null],["font-size","14px",null],["color","#555555",null]],"params":[],"content":"LAST<span style=\"color:red\">*<\/span>"},{"alias":"Last Name","tag":"input","page":0,"attributes":[["type","text",""],["name","last_name",null]],"events":[],"styles":[["width","335px",""],["left","0px",null],["top","249px",null],["background-color","transparent",null],["border","none",null],["border-bottom-color","#555555",null],["border-bottom-style","solid",null],["border-bottom-width","1px",null]],"params":[["required",true,null]]},{"alias":"","tag":"span","page":0,"attributes":[],"events":[],"styles":[["left","0px",null],["top","220px",null],["font-size","17px",null],["color","#555555",null]],"params":[],"content":"NAME"},{"alias":"First Name","tag":"input","page":0,"attributes":[["type","text",""],["name","first_name",null]],"events":[],"styles":[["width","335px",""],["left","0px",null],["top","304px",null],["background-color","transparent",null],["border","none",null],["border-bottom-color","#555555",null],["border-bottom-style","solid",null],["border-bottom-width","1px",null]],"params":[["required",true,null]]},{"alias":"","tag":"span","page":0,"attributes":[],"events":[],"styles":[["left","390px",null],["top","484px",null],["font-size","14px",null],["color","#555555",null]],"params":[],"content":"PHONE"},{"alias":"","tag":"span","page":0,"attributes":[],"events":[],"styles":[["left","0px",null],["top","384px",null],["font-size","14px",null],["color","#555555",null]],"params":[],"content":"MIDDLE"},{"alias":"Middle Name","tag":"input","page":0,"attributes":[["type","text",""],["name","middle_name",null]],"events":[],"styles":[["width","190px",""],["left","0px",null],["top","358px",null],["background-color","transparent",null],["border","none",null],["border-bottom-color","#555555",null],["border-bottom-style","solid",null],["border-bottom-width","1px",null]],"params":[]},{"alias":"","tag":"span","page":0,"attributes":[],"events":[],"styles":[["left","208px",null],["top","384px",null],["font-size","14px",null],["color","#555555",null]],"params":[],"content":"SUFFIX"},{"alias":"Suffix","tag":"input","page":0,"attributes":[["type","text",""],["name","suffix",null]],"events":[],"styles":[["width","53px",""],["left","208px",null],["top","358px",null],["background-color","transparent",null],["border","none",null],["border-bottom-color","#555555",null],["border-bottom-style","solid",null],["border-bottom-width","1px",null]],"params":[]},{"alias":"","tag":"span","page":0,"attributes":[],"events":[],"styles":[["left","281px",null],["top","384px",null],["font-size","14px",null],["color","#555555",null]],"params":[],"content":"PREFIX"},{"alias":"Prefix","tag":"input","page":0,"attributes":[["type","text",""],["name","prefix",null]],"events":[],"styles":[["width","54px",""],["left","281px",null],["top","358px",null],["background-color","transparent",null],["border","none",null],["border-bottom-color","#555555",null],["border-bottom-style","solid",null],["border-bottom-width","1px",null]],"params":[]},{"alias":"","tag":"span","page":0,"attributes":[],"events":[],"styles":[["left","391px",null],["top","275px",null],["font-size","14px",null],["color","#555555",null]],"params":[],"content":"STREET<span style=\"color:red\">*<\/span>"},{"alias":"Address","tag":"input","page":0,"attributes":[["type","text",""],["name","address1",null]],"events":[],"styles":[["width","335px",""],["left","391px",null],["top","249px",null],["background-color","transparent",null],["border","none",null],["border-bottom-color","#555555",null],["border-bottom-style","solid",null],["border-bottom-width","1px",null]],"params":[["required",true,null]]},{"alias":"","tag":"span","page":0,"attributes":[],"events":[],"styles":[["left","390px",null],["top","219px",null],["font-size","17px",null],["color","#555555",null]],"params":[],"content":"ADDRESS"},{"alias":"Address 2","tag":"input","page":0,"attributes":[["type","text",""],["name","address2",null]],"events":[],"styles":[["width","335px",""],["left","390px",null],["top","304px",null],["background-color","transparent",null],["border","none",null],["border-bottom-color","#555555",null],["border-bottom-style","solid",null],["border-bottom-width","1px",null]],"params":[]},{"alias":"","tag":"span","page":0,"attributes":[],"events":[],"styles":[["left","390px",null],["top","383px",null],["font-size","14px",null],["color","#555555",null]],"params":[],"content":"CITY<span style=\"color:red\">*<\/span>"},{"alias":"City","tag":"input","page":0,"attributes":[["type","text",""],["name","city",null]],"events":[],"styles":[["width","149px",""],["left","390px",null],["top","357px",null],["background-color","transparent",null],["border","none",null],["border-bottom-color","#555555",null],["border-bottom-style","solid",null],["border-bottom-width","1px",null]],"params":[["required",true,null]]},{"alias":"","tag":"span","page":0,"attributes":[],"events":[],"styles":[["left","557px",null],["top","383px",null],["font-size","14px",null],["color","#555555",null]],"params":[],"content":"STATE"},{"alias":"State","tag":"input","page":0,"attributes":[["type","text",""],["name","state",null]],"events":[],"styles":[["width","53px",""],["left","557px",null],["top","357px",null],["background-color","transparent",null],["border","none",null],["border-bottom-color","#555555",null],["border-bottom-style","solid",null],["border-bottom-width","1px",null]],"params":[]},{"alias":"","tag":"span","page":0,"attributes":[],"events":[],"styles":[["left","629px",null],["top","383px",null],["font-size","14px",null],["color","#555555",null]],"params":[],"content":"ZIP\/Postal<span style=\"color:red\">*<\/span>"},{"alias":"Zip","tag":"input","page":0,"attributes":[["type","text",""],["name","zip",null]],"events":[],"styles":[["width","96px",""],["left","629px",null],["top","357px",null],["background-color","transparent",null],["border","none",null],["border-bottom-color","#555555",null],["border-bottom-style","solid",null],["border-bottom-width","1px",null]],"params":[["required",true,null],["validation","ZipUS",null]]},{"alias":"","tag":"span","page":0,"attributes":[],"events":[],"styles":[["left","0px",null],["top","428px",null],["font-size","17px",null],["color","#555555",null]],"params":[],"content":"TELEPHONE"},{"alias":"","tag":"span","page":0,"attributes":[],"events":[],"styles":[["left","0px",null],["top","484px",null],["font-size","14px",null],["color","#555555",null]],"params":[],"content":"HOME"},{"alias":"Home Phone","tag":"input","page":0,"attributes":[["type","text",""],["name","home_phone",null]],"events":[],"styles":[["width","155px",""],["left","0px",null],["top","458px",null],["background-color","transparent",null],["border","none",null],["border-bottom-color","#555555",null],["border-bottom-style","solid",null],["border-bottom-width","1px",null]],"params":[["validation","PhoneUS",null]]},{"alias":"","tag":"span","page":0,"attributes":[],"events":[],"styles":[["left","182px",null],["top","484px",null],["font-size","14px",null],["color","#555555",null]],"params":[],"content":"WORK"},{"alias":"Work Phone","tag":"input","page":0,"attributes":[["type","text",""],["name","work_phone",null]],"events":[],"styles":[["width","155px",""],["left","182px",null],["top","458px",null],["background-color","transparent",null],["border","none",null],["border-bottom-color","#555555",null],["border-bottom-style","solid",null],["border-bottom-width","1px",null]],"params":[["validation","PhoneUS",null]]},{"alias":"","tag":"span","page":0,"attributes":[],"events":[],"styles":[["left","390px",null],["top","428px",null],["font-size","17px",null],["color","#555555",null],["width","339px",null]],"params":[],"content":"EMERGENCY CONTACT INFORMATION"},{"alias":"Emergency Phone","tag":"input","page":0,"attributes":[["type","text",""],["name","emergency_phone",null]],"events":[],"styles":[["width","335px",""],["left","390px",null],["top","458px",null],["background-color","transparent",null],["border","none",null],["border-bottom-color","#555555",null],["border-bottom-style","solid",null],["border-bottom-width","1px",null]],"params":[["validation","PhoneUS",null]]},{"alias":"","tag":"span","page":0,"attributes":[],"events":[],"styles":[["left","390px",null],["top","534px",null],["font-size","14px",null],["color","#555555",null]],"params":[],"content":"NAME"},{"alias":"Emergency Name","tag":"input","page":0,"attributes":[["type","text",""],["name","emergency_name",null]],"events":[],"styles":[["width","155px",""],["left","390px",null],["top","508px",null],["background-color","transparent",null],["border","none",null],["border-bottom-color","#555555",null],["border-bottom-style","solid",null],["border-bottom-width","1px",null]],"params":[]},{"alias":"","tag":"span","page":0,"attributes":[],"events":[],"styles":[["left","572px",null],["top","534px",null],["font-size","14px",null],["color","#555555",null]],"params":[],"content":"RELATIONSHIP"},{"alias":"Emergency Relationship","tag":"input","page":0,"attributes":[["type","text",""],["name","emergency_relationship",null]],"events":[],"styles":[["width","155px",""],["left","572px",null],["top","508px",null],["background-color","transparent",null],["border","none",null],["border-bottom-color","#555555",null],["border-bottom-style","solid",null],["border-bottom-width","1px",null]],"params":[]},{"alias":"","tag":"span","page":0,"attributes":[],"events":[],"styles":[["left","0px",null],["top","330px",null],["font-size","14px",null],["color","#555555",null]],"params":[],"content":"FIRST<span style=\"color:red\">*<\/span>"},{"alias":"SSN","tag":"input","page":0,"attributes":[["type","text",""],["name","ssn",null]],"events":[],"styles":[["width","335px",""],["left","0px",null],["top","615px",null],["background-color","transparent",null],["border","none",null],["border-bottom-color","#555555",null],["border-bottom-style","solid",null],["border-bottom-width","1px",null]],"params":[["validation","SSN",null]]},{"alias":"","tag":"span","page":0,"attributes":[],"events":[],"styles":[["left","0px",null],["top","584px",null],["font-size","17px",null],["color","#555555",null]],"params":[],"content":"SOCIAL SECURITY NO."},{"alias":"","tag":"span","page":0,"attributes":[],"events":[],"styles":[["left","390px",null],["top","584px",null],["font-size","17px",null],["color","#555555",null]],"params":[],"content":"SEX"},{"alias":"","tag":"span","page":0,"attributes":[],"events":[],"styles":[["left","547px",null],["top","583px",null],["font-size","17px",null],["color","#555555",null]],"params":[],"content":"DATE OF BIRTH"},{"alias":"","tag":"span","page":0,"attributes":[],"events":[],"styles":[["left","547px",null],["top","641px",null],["font-size","14px",null],["color","#555555",null]],"params":[],"content":"MONTH\/DAY\/YEAR"},{"alias":"","tag":"input","page":0,"attributes":[["type","text",""],["name","dob",null]],"events":[],"styles":[["width","118px",""],["left","547px",null],["top","615px",null],["background-color","transparent",null],["border","none",null],["border-bottom-color","#555555",null],["border-bottom-style","solid",null],["border-bottom-width","1px",null]],"params":[]},{"alias":"","tag":"img","page":0,"attributes":[["src","{base_url}pub\/media\/sfg\/images\/icon-date.png",""],["alt","image",""],["class","pdf-hidden",null]],"events":[],"styles":[["left","670px",null],["top","615px",null],["cursor","pointer",null]],"params":[["on-click-action","2",null],["date-input-field","dob",null]]},{"alias":"SEX","tag":"input","page":0,"attributes":[["type","radio",""],["name","sex",null],["value","male",null]],"events":[],"styles":[["left","390px",null],["top","614px",null]],"params":[]},{"alias":"","tag":"span","page":0,"attributes":[],"events":[],"styles":[["left","413px",null],["top","616px",null],["font-size","14px",null],["color","#555555",null]],"params":[],"content":"MALE"},{"alias":"SEX","tag":"input","page":0,"attributes":[["type","radio",""],["name","sex",null],["value","female",null]],"events":[],"styles":[["left","390px",null],["top","639px",null]],"params":[]},{"alias":"","tag":"span","page":0,"attributes":[],"events":[],"styles":[["left","413px",null],["top","641px",null],["font-size","14px",null],["color","#555555",null]],"params":[],"content":"FEMALE"},{"alias":"","tag":"span","page":0,"attributes":[],"events":[],"styles":[["left","0px",null],["top","686px",null],["font-size","17px",null],["color","#555555",null]],"params":[],"content":"EDUCATION<span style=\"color:red\">*<\/span>"},{"alias":"Education","tag":"input","page":0,"attributes":[["type","checkbox",""],["name","education[]",null],["value","HIGH SCHOOL DIPLOMA",null]],"events":[],"styles":[["left","5px",null],["top","716px",null]],"params":[["group-required","",null]]},{"alias":"","tag":"span","page":0,"attributes":[],"events":[],"styles":[["left","28px",null],["top","717px",null],["font-size","14px",null],["color","#555555",null],["width","181px",null]],"params":[],"content":"HIGH SCHOOL DIPLOMA"},{"alias":"Education","tag":"input","page":0,"attributes":[["type","checkbox",""],["name","education[]",null],["value","TRADE CERTIFICATE",null]],"events":[],"styles":[["left","5px",null],["top","742px",null]],"params":[]},{"alias":"","tag":"span","page":0,"attributes":[],"events":[],"styles":[["left","28px",null],["top","743px",null],["font-size","14px",null],["color","#555555",null],["width","181px",null]],"params":[],"content":"TRADE CERTIFICATE"},{"alias":"Education","tag":"input","page":0,"attributes":[["type","checkbox",""],["name","education[]",null],["value","COLLEGE - NO DEGREE",null]],"events":[],"styles":[["left","5px",null],["top","768px",null]],"params":[]},{"alias":"","tag":"span","page":0,"attributes":[],"events":[],"styles":[["left","28px",null],["top","769px",null],["font-size","14px",null],["color","#555555",null],["width","181px",null]],"params":[],"content":"COLLEGE - NO DEGREE"},{"alias":"Education","tag":"input","page":0,"attributes":[["type","checkbox",""],["name","education[]",null],["value","ASSOCIATE\u2019S DEGREE",null]],"events":[],"styles":[["left","46px",null],["top","795px",null]],"params":[]},{"alias":"","tag":"span","page":0,"attributes":[],"events":[],"styles":[["left","69px",null],["top","796px",null],["font-size","14px",null],["color","#555555",null],["width","181px",null]],"params":[],"content":"ASSOCIATE\u2019S DEGREE"},{"alias":"Education","tag":"input","page":0,"attributes":[["type","checkbox",""],["name","education[]",null],["value","BACHELOR\u2019S DEGREE",null]],"events":[],"styles":[["left","46px",null],["top","821px",null]],"params":[]},{"alias":"","tag":"span","page":0,"attributes":[],"events":[],"styles":[["left","69px",null],["top","822px",null],["font-size","14px",null],["color","#555555",null],["width","181px",null]],"params":[],"content":"BACHELOR\u2019S DEGREE"},{"alias":"Education","tag":"input","page":0,"attributes":[["type","checkbox",""],["name","education[]",null],["value","MASTER\u2019S DEGREE",null]],"events":[],"styles":[["left","46px",null],["top","847px",null]],"params":[]},{"alias":"","tag":"span","page":0,"attributes":[],"events":[],"styles":[["left","69px",null],["top","848px",null],["font-size","14px",null],["color","#555555",null],["width","181px",null]],"params":[],"content":"MASTER\u2019S DEGREE"},{"alias":"Education","tag":"input","page":0,"attributes":[["type","checkbox",""],["name","education[]",null],["value","PROFESSIONAL DEGREE",null]],"events":[],"styles":[["left","46px",null],["top","873px",null]],"params":[]},{"alias":"","tag":"span","page":0,"attributes":[],"events":[],"styles":[["left","69px",null],["top","874px",null],["font-size","14px",null],["color","#555555",null],["width","181px",null]],"params":[],"content":"PROFESSIONAL DEGREE"},{"alias":"Education","tag":"input","page":0,"attributes":[["type","checkbox",""],["name","education[]",null],["value","PH.D.",null]],"events":[],"styles":[["left","5px",null],["top","900px",null]],"params":[]},{"alias":"","tag":"span","page":0,"attributes":[],"events":[],"styles":[["left","28px",null],["top","901px",null],["font-size","14px",null],["color","#555555",null],["width","181px",null]],"params":[],"content":"PH.D."},{"alias":"Education","tag":"input","page":0,"attributes":[["type","checkbox",""],["name","education[]",null],["value","OTHER DOCTORATE",null]],"events":[],"styles":[["left","5px",null],["top","926px",null]],"params":[["group-required",true,null]]},{"alias":"","tag":"span","page":0,"attributes":[],"events":[],"styles":[["left","28px",null],["top","927px",null],["font-size","14px",null],["color","#555555",null],["width","181px",null]],"params":[],"content":"OTHER DOCTORATE"},{"alias":"Signature","tag":"canvas","page":0,"attributes":[["name","signature",null]],"events":[],"styles":[["width","350px",""],["height","100px",""],["border","3px dotted #DDDDDD",""],["background-color","#FAFFFF",""],["left","380px",null],["top","754px",null]],"params":[["canvas-pen-size","2",""],["canvas-pen-color","#000000",""],["canvas-background-color","#FAFFFF",""],["required",true,null]]},{"alias":"","tag":"span","page":0,"attributes":[],"events":[],"styles":[["left","380px",null],["top","868px",null],["font-size","14px",null],["color","#555555",null],["width","181px",null]],"params":[],"content":"EMPLOYEE SIGNATURE<span style=\"color:red\">*<\/span>"},{"alias":"","tag":"img","page":0,"attributes":[["src","{base_url}pub\/media\/sfg\/images\/separator.png",""],["alt","image",""]],"events":[],"styles":[["left","0px",null],["top","0px",null],["width","730px",null],["height","10px",null]],"params":[]},{"alias":"","tag":"img","page":0,"attributes":[["src","{base_url}pub\/media\/sfg\/images\/separator.png",""],["alt","image",""]],"events":[],"styles":[["left","0px",null],["top","134px",null],["width","730px",null],["height","10px",null]],"params":[]},{"alias":"","tag":"img","page":0,"attributes":[["src","{base_url}pub\/media\/sfg\/images\/separator.png",""],["alt","image",""]],"events":[],"styles":[["left","0px",null],["top","673px",null],["width","730px",null],["height","10px",null]],"params":[]},{"alias":"","tag":"img","page":0,"attributes":[["src","{base_url}pub\/media\/sfg\/images\/separator.png",""],["alt","image",""]],"events":[],"styles":[["left","0px",null],["top","208px",null],["width","340px",null],["height","10px",null]],"params":[]},{"alias":"","tag":"img","page":0,"attributes":[["src","{base_url}pub\/media\/sfg\/images\/separator.png",""],["alt","image",""]],"events":[],"styles":[["left","390px",null],["top","208px",null],["width","340px",null],["height","10px",null]],"params":[]},{"alias":"","tag":"img","page":0,"attributes":[["src","{base_url}pub\/media\/sfg\/images\/separator.png",""],["alt","image",""]],"events":[],"styles":[["left","0px",null],["top","416px",null],["width","340px",null],["height","10px",null]],"params":[]},{"alias":"","tag":"img","page":0,"attributes":[["src","{base_url}pub\/media\/sfg\/images\/separator.png",""],["alt","image",""]],"events":[],"styles":[["left","390px",null],["top","416px",null],["width","340px",null],["height","10px",null]],"params":[]},{"alias":"","tag":"img","page":0,"attributes":[["src","{base_url}pub\/media\/sfg\/images\/separator.png",""],["alt","image",""]],"events":[],"styles":[["left","0px",null],["top","571px",null],["width","340px",null],["height","10px",null]],"params":[]},{"alias":"","tag":"img","page":0,"attributes":[["src","{base_url}pub\/media\/sfg\/images\/separator.png",""],["alt","image",""]],"events":[],"styles":[["left","390px",null],["top","571px",null],["width","340px",null],["height","10px",null]],"params":[]},{"alias":"","tag":"img","page":0,"attributes":[["src","{base_url}pub\/media\/sfg\/images\/separator.png",""],["alt","image",""]],"events":[],"styles":[["left","0px",null],["top","960px",null],["width","730px",null],["height","10px",null]],"params":[]},{"alias":"","tag":"input","page":0,"attributes":[["type","button",""],["value","Submit Form",""],["class","action primary pdf-hidden",""]],"events":[],"styles":[["width","127px",""],["left","172px",null],["top","984px",null],["height","36px",null]],"params":[["on-click-action","1",null],["save-data",true,null]]},{"alias":"","tag":"span","page":1,"attributes":[],"events":[],"styles":[["left","0px",null],["top","10px",null],["width","710px",null],["height","67px",null],["background-color","#635654",null],["color","#FFFFFF",null],["font-size","24px",null],["line-height","22px",null],["padding","5px 10px",null]],"params":[],"content":"<center style=\"line-height:60px\"><strong>Thank you for submitting the form!<\/strong><\/center>"},{"alias":"","tag":"img","page":1,"attributes":[["src","{base_url}pub\/media\/sfg\/images\/separator.png",""],["alt","image",""]],"events":[],"styles":[["left","0px",null],["top","0px",null],["width","730px",null],["height","10px",null]],"params":[]},{"alias":"","tag":"img","page":1,"attributes":[["src","{base_url}pub\/media\/sfg\/images\/separator.png",""],["alt","image",""]],"events":[],"styles":[["left","0px",null],["top","87px",null],["width","730px",null],["height","10px",null]],"params":[]}],"email_templates":[{"id":1,"name":"email to user","fromName":"admin of website","fromEmail":"admin@website.com","subject":"Your details on website.com","cc":"","bcc":"","body":"<p>{{template config_path=\"design\/email\/header_template\"}}<\/p>\n    <p><strong>Dear {{name}},<\/strong><\/p>\n    <p>Thank you for contacting us! One of our representatives will reply to you shortly.<\/p>\n    <p>Below is the information you posted:<\/p>\n    <p>{{%all_data%}}<\/p>\n    <p>{{template config_path=\"design\/email\/footer_template\"}}<\/p>","format":"1"},{"id":2,"name":"email to admin","fromName":"admin of website","fromEmail":"admin@website.com","subject":"New user details","cc":"","bcc":"","body":"<p>{{template config_path=\"design\/email\/header_template\"}}<\/p>\n    <p><strong>Hello Admin,<\/strong><\/p>\n    <p>The form has been submitted. Please find below the details:<\/p>\n    <p>{{%all_data%}}<\/p>\n    <p>{{template config_path=\"design\/email\/footer_template\"}}<\/p>","format":"1"},{"id":3,"name":"your custom email","fromName":"From Name","fromEmail":"from@email.com","subject":"Custom email subject","cc":"","bcc":"","body":"<p>{{template config_path=\"design\/email\/header_template\"}}<\/p>\n    <p>Fill in your custom email. You can create as meny templates as you wish. Click 'New Document' icon to start<\/p>\n    <p>&nbsp;<\/p>\n    <p>{{template config_path=\"design\/email\/footer_template\"}}<\/p>","format":"1"}],"validators":[{"alias":"Required","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = 'Field: %s. Field is required';\nmsg = msg.replace('%s', sfgName); \nif (obj.type && (obj.type.toLowerCase()=='checkbox' || obj.type.toLowerCase()=='radio') && !obj.checked) return msg; \nif (obj.tagName.toLowerCase()=='select' && (obj.selectedIndex==-1 || obj.selectedIndex==0)) return msg; \nif (obj.value=='') return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\nif (empty($value)) return 'Field: '.$this->getAlias().'. Field is required';"},{"alias":"Group Required","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = 'Group: %s. Please select a value';\nmsg = msg.replace('%s', sfgName); \nvar objs = document.getElementsByName(obj.name); \nvar checked = false; \nfor (i=0; i<objs.length; i++) if (objs[i].checked) { checked = true; break; } \nif (!checked) return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\nif (empty($value)) return 'Group: '.$this->getAlias().'. Please select a value';"},{"alias":"Check identical","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object, obj2 - another HTML element for comparing\nvar msg = 'Field: %s. Entities are not identical';\nmsg = msg.replace('%s', sfgName);\nvar el2 = document.getElementsByName(obj2)[0];\nif (el2 && obj.value != el2.value) return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\n$elements = $this->getForm()->getElementsByName($this->getParam('equal-to'));\n$value2 = count($elements) ? $elements[0]->getPostedValue() : null;\nif (!is_null($value2) && $value != $value2) return 'Fields '.$this->getAlias().' and '.$elements[0]->getAlias().' should be identical';"},{"alias":"Email","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = 'Field: %s. Invalid email. Please specify a valid value';\nmsg = msg.replace('%s', sfgName);\nvar RegExp=\/^((([a-z]|[0-9]|!|#|$|%|&|'|\\*|\\+|\\-|\\\/|=|\\?|\\^|_|`|\\{|\\||\\}|~)+(\\.([a-z]|[0-9]|!|#|$|%|&|'|\\*|\\+|\\-|\\\/|=|\\?|\\^|_|`|\\{|\\||\\}|~)+)*)@((((([a-z]|[0-9])([a-z]|[0-9]|\\-){0,61}([a-z]|[0-9])\\.))*([a-z]|[0-9])([a-z]|[0-9]|\\-){0,61}([a-z]|[0-9])\\.)[\\w]{2,4}|(((([0-9]){1,3}\\.){3}([0-9]){1,3}))|(\\[((([0-9]){1,3}\\.){3}([0-9]){1,3})\\])))$\/;\nif (obj.value!='' && !RegExp.test(obj.value.toLowerCase())) return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\n$RegExp=\"\/^((([a-z]|[0-9]|!|#|$|%|&|'|\\*|\\+|\\-|\\\/|=|\\?|\\^|_|`|\\{|\\||\\}|~)+(\\.([a-z]|[0-9]|!|#|$|%|&|'|\\*|\\+|\\-|\\\/|=|\\?|\\^|_|`|\\{|\\||\\}|~)+)*)@((((([a-z]|[0-9])([a-z]|[0-9]|\\-){0,61}([a-z]|[0-9])\\.))*([a-z]|[0-9])([a-z]|[0-9]|\\-){0,61}([a-z]|[0-9])\\.)[\\w]{2,4}|(((([0-9]){1,3}\\.){3}([0-9]){1,3}))|(\\[((([0-9]){1,3}\\.){3}([0-9]){1,3})\\])))$\/\";\nif (is_array($value) || $value && !preg_match($RegExp, strtolower($value))) return 'Field: '.$this->getAlias().'. Incorrect Email address';"},{"alias":"Zip","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = 'Field: %s. Please specify a correct zip\/postal';\nmsg = msg.replace('%s', sfgName);\nvar letters='qwertyuiopasdfghjklzxcvbnm -1234567890';\nvar ps=false;\nfor(i=0;i<obj.value.length;i++) if (letters.indexOf(obj.value.toLowerCase().substr(i,1))<0) ps=true;\nif (ps || obj.value.length>10) return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\nif (is_array($value)) $value = '*'; \/\/invalidate\nfor($i=0; $i<strlen($value); $i++) {\n    if (strpos('qwertyuiopasdfghjklzxcvbnm -1234567890', substr(strtolower($value), $i, 1))===false) return 'Field: '.$this->getAlias().'. Please specify a correct zip\/postal';\n}"},{"alias":"ZipUS","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = 'Field: %s. Invalid US Zip. Please specify a valid value';\nmsg = msg.replace('%s', sfgName);\nvar zipPattern1=\/^(\\d{5})$\/;\nvar zipPattern2=\/^(\\d{5})\\-(\\d{4})$\/;\nif ((obj.value.match(zipPattern1)==null)&&(obj.value.match(zipPattern2)==null)&&obj.value.length>0) return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\n$zipPattern1=\"\/^(\\d{5})$\/\";\n$zipPattern2=\"\/^(\\d{5})\\-(\\d{4})$\/\";\nif (is_array($value) || $value && !preg_match($zipPattern1, $value) && !preg_match($zipPattern2, $value)) return 'Field: '.$this->getAlias().'. Incorrect Zip';"},{"alias":"Phone","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = 'Field: %s. Please specify a correct phone number';\nmsg = msg.replace('%s', sfgName);\nvar letters='1234567890 -.()+';\nvar ps=false;\nfor(i=0;i<obj.value.length;i++) if (letters.indexOf(obj.value.toLowerCase().substr(i,1))<0) ps=true;\nif (ps || obj.value.length>10) return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\nfor($i=0; $i<strlen($value); $i++) {\n    if (strpos('1234567890 -.()+', substr($value, $i, 1))===false) return 'Field: '.$this->getAlias().'. Incorrect phone number';\n}"},{"alias":"PhoneUS","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = 'Field: %s. Invalid value! Please, provide a phone number in format XXX-XXX-XXXX, where X is a digit.';\nmsg = msg.replace('%s', sfgName);\nvar phonePattern=\/^(\\d{3})\\-(\\d{3})\\-(\\d{4})$\/;\nif ((obj.value.match(phonePattern)==null)&&obj.value.length>0) return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\n$phonePattern=\"\/^(\\d{3})\\-(\\d{3})\\-(\\d{4})$\/\";\nif (is_array($value) || $value && !preg_match($phonePattern, $value)) return 'Field: '.$this->getAlias().'. Please, provide a phone number in format XXX-XXX-XXXX, where X is a digit';"},{"alias":"Password","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = 'Field: %s. The password should contain 6 to 12 symbols';\nmsg = msg.replace('%s', sfgName);\nif ((obj.value.length<6 || obj.value.length>12) && obj.value.length!=0) return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\nif (is_array($value) || $value && (strlen($value) < 6 || strlen($value) > 12)) return 'Field: '.$this->getAlias().'. The password should have 6 to 12 symbols';"},{"alias":"CreditCardNumber","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = 'Field: %s. Please specify a correct credit card number';\nmsg = msg.replace('%s', sfgName);\nvar ccPattern=\/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\\d{3})\\d{11})$\/;\nif ((obj.value.match(ccPattern)==null)&&obj.value.length>0) return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\n$ccPattern=\"\/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\\d{3})\\d{11})$\/\";\nif (is_array($value) || $value && !preg_match($ccPattern, strtolower($value))) return 'Field: '.$this->getAlias().'. Incorrect credit card number';"},{"alias":"CreditCardCVV","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = 'Field: %s. Please specify a correct credit card CVV';\nmsg = msg.replace('%s', sfgName);\nvar letters='1234567890';\nvar ps=false;\nfor(i=0;i<obj.value.length;i++) if (letters.indexOf(obj.value.toLowerCase().substr(i,1))<0) ps=true;\nif (ps || (obj.value.length<3 && obj.value.length!=0) || obj.value.length>4) return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\nif (is_array($value) || $value && (strlen($value) < 3 || strlen($value) > 4 || !is_numeric($value))) return 'Field: '.$this->getAlias().'. Incorrect credit card CVV';"},{"alias":"Money","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = 'Field: %s. Please specify currency correctly';\nmsg = msg.replace('%s', sfgName);\nvar letters='1234567890.';\nvar ps=false; for(i=0;i<obj.value.length;i++) if (letters.indexOf(obj.value.toLowerCase().substr(i,1))<0) ps=true;\nif (ps || obj.value.length>10 || Math.floor(obj.value*100)\/100!=obj.value-0) return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\nif (is_array($value) || $value && (floor(floatval($value)*100)\/100!=floatval($value) || !is_numeric($value))) return 'Field: '.$this->getAlias().'. Incorrect amount';"},{"alias":"URL","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = 'Field: %s. Please specify a valid URL';\nmsg = msg.replace('%s', sfgName);\nvar RegExp=\/^(([\\w]+:)?\\\/\\\/)?(([\\d\\w]|%[a-fA-f\\d]{2,2})+(:([\\d\\w]|%[a-fA-f\\d]{2,2})+)?@)?([\\d\\w][-\\d\\w]{0,253}[\\d\\w]\\.)+[\\w]{2,4}(:[\\d]+)?(\\\/([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)*(\\?(&?([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})=?)*)?(#([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)?$\/;\nif (obj.value!='' && !RegExp.test(obj.value)) return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\n$RegExp=\"\/^(([\\w]+:)?\\\/\\\/)?(([\\d\\w]|%[a-fA-f\\d]{2,2})+(:([\\d\\w]|%[a-fA-f\\d]{2,2})+)?@)?([\\d\\w][-\\d\\w]{0,253}[\\d\\w]\\.)+[\\w]{2,4}(:[\\d]+)?(\\\/([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)*(\\?(&?([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})=?)*)?(#([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)?$\/\";\nif (is_array($value) || $value && !preg_match($RegExp, strtolower($value))) return 'Field: '.$this->getAlias().'. Incorrect URL';"},{"alias":"IP","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = 'Field: %s. Please specify a correct IP';\nmsg = msg.replace('%s', sfgName);\nvar RegExp=\/^(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})$\/;\nvar a=obj.value.split('.');\nif (obj.value!='' && !RegExp.test(obj.value) || a[0]>255 || a[1]>255 || a[2]>255 || a[3]>255) return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\nif (is_array($value) || $value && ip2long($value) === false) return 'Field: '.$this->getAlias().'. Incorrect IP';"},{"alias":"SSN","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = 'Field: %s. Invalid value! Please, provide a SSN in format XXX-XX-XXXX or XX-XXXXXXX, where X is a digit.';\nmsg = msg.replace('%s', sfgName);\nvar ssnPattern1 = \/^(\\d{3})\\-(\\d{2})\\-(\\d{4})$\/;\nvar ssnPattern2 = \/^(\\d{2})\\-(\\d{7})$\/;\nif ((obj.value.match(ssnPattern1)==null)&&(obj.value.match(ssnPattern2)==null)&&obj.value.length>0) return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\n$ssnPattern1=\"\/^(\\d{3})\\-(\\d{2})\\-(\\d{4})$\/\";\n$ssnPattern2=\"\/^(\\d{2})\\-(\\d{7})$\/\";\nif (is_array($value) || $value && !preg_match($ssnPattern1, $value) && !preg_match($ssnPattern2, $value)) return 'Field: '.$this->getAlias().'. SSN should be in format XXX-XX-XXXX or XX-XXXXXXX, where X is a digit.';"},{"alias":"Date","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = 'Field: %s. Invalid value! Field value should be in MM\/DD\/YYYY format.';\nmsg = msg.replace('%s', sfgName);\nvar a=obj.value.split('\/');\nif (a[0]-0>0 && a[0]-0<=12 && a[1]-0>0 && a[1]-0<=31 && a[2]-0>1000 && a[2]-0<=9999 && a[3]==null ||obj.value.length==0) return null; else return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\n$datePattern=\"\/^(\\d{1,2})\\\/(\\d{1,2})\\\/(\\d{4})$\/\";\nif (is_array($value) || $value && !preg_match($datePattern, $value)) return 'Field: '.$this->getAlias().'. Date should be in MM\/DD\/YYYY format.';"},{"alias":"DateShort","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = 'Field: %s. Invalid value! Field value should be in MM\/DD\/YY format';\nmsg = msg.replace('%s', sfgName);\nvar a=obj.value.split('\/');\nif (a[0]-0>0 && a[0]-0<=12 && a[1]-0>0 && a[1]-0<=31 && a[2]-0>=0 && a[2]-0<=99 && a[3]==null ||obj.value.length==0) return null; else return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\n$datePattern=\"\/^(\\d{1,2})\\\/(\\d{1,2})\\\/(\\d{2})$\/\";\nif (is_array($value) || $value && !preg_match($datePattern, $value)) return 'Field: '.$this->getAlias().'. Date should be in MM\/DD\/YY format.';"},{"alias":"Time","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = 'Field: %s. Invalid value! Field value should be in HH:MM format.';\nmsg = msg.replace('%s', sfgName);\nvar a=obj.value.split(':');\nif (a[0]-0>=0 && a[0]-0<24 && a[1]-0>=0 && a[1]-0<60 && a[2]==null ||obj.value.length==0) return null; else return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\n$timePattern=\"\/^(\\d{1,2})\\:(\\d{2})$\/\";\nif (is_array($value) || $value && !preg_match($timePattern, $value)) return 'Field: '.$this->getAlias().'. Time should be in HH:MM format.';"}]},{"name":"Quote Form Example","ext_access":["-1"],"autoresponsive":1,"maxsubmissions":0,"submitajax":1,"allow_editing":1,"description":"Product Search, AJAX, Progress Bar","globalphp":"\/*******************************************************************\/\n\/* SmartFormer Gold (c) Form PHP controller                                                    *\/\n\/* Product of IToris (c) 2017 http:\/\/www.itoris.com                                            *\/\n\/*******************************************************************\/\n\n\/\/EXAMPLE OF AJAX RESPONSE\nif ($this->getRequest()->getParam(\"sfg_ajax\")) {\n\t$keyword = trim($this->getRequest()->getParam('keyword'));\n\t$start = (int) trim($this->getRequest()->getParam('start', 0));\n\tif (strlen($keyword) < 3) return [];\n\t$priceHelper = $this->_objectManager->create('Magento\\Framework\\Pricing\\Helper\\Data');\n\t$mediaUrl = $this->_objectManager->get('Magento\\Store\\Model\\StoreManagerInterface')->getStore()->getBaseUrl(\\Magento\\Framework\\UrlInterface::URL_TYPE_MEDIA);\n\t$collection = $this->_objectManager->create('Magento\\Catalog\\Model\\Product')->getCollection();\n\t$collection->addAttributeToFilter([\n\t\t['attribute' => 'name', 'like' => \"%$keyword%\"], \/\/filter by product name\n\t\t['attribute' => 'sku', 'like' => \"%$keyword%\"] \/\/filter by sku\n\t]);\n\t$collection->getSelect()->limit(10, $start); \/\/10 is the page size\n\t$products = [];\n\tforeach($collection as $product) {\n\t\t$product->load($product->getId());\n\t\t$products[] = [\n\t\t\t'id' => $product->getId(),\n\t\t\t'name' => $product->getName(),\n\t\t\t'sku' => $product->getSku(),\n\t\t\t'url' => $product->getProductUrl(),\n\t\t\t'price' => $priceHelper->currency($product->getFinalPrice(), true, false),\n\t\t\t'image' => $mediaUrl.'catalog\/product'.$product->getData('thumbnail')\n\t\t];\n\t}\n\theader(\"Content-type:application\/json\");\n\techo json_encode($products);\n\texit;\n}\n\n\/\/EXPLANATION: $this is the block containg the form, the form model can be accessed as $this->getForm();\n$form = $this->getForm();\n\n\/\/EXPLANATION: this method merges data in session and $this->getRequest()->getPost() and returns all values as array\n$allValues = $this->getPostedValues();\n\n\/\/EXPLANATION: this method validates the form data, returns TRUE or FALSE\n$isValid = $this->validate();\n\n\/\/EXPLANATION: if form is valid this method will perform all actions after submit: saves data to database, navigates between pages, emails, etc.\n$this->dispatch();\n\n\/\/EXAMPLE: howto populate name and email from session if customer is logged in\n$customerSession = $this->_objectManager->get('Magento\\Customer\\Model\\Session');\nif ($customerSession->isLoggedIn()) {\n\tif (!$form->getValue('name')) $form->setValue('name', $customerSession->getCustomer()->getName());\n\tif (!$form->getValue('email')) $form->setValue('email', $customerSession->getCustomer()->getEmail());\n}\n\n$productId = (int) $this->getRequest()->getParam('product_id', 0);\nif ($productId && $this->getForm()->GetPage() == 0) {\n\t$this->getForm()->setPage(1);\n\t$product = $this->_objectManager->create('Magento\\Catalog\\Model\\Product')->load($productId);\n\t$mediaUrl = $this->_objectManager->get('Magento\\Store\\Model\\StoreManagerInterface')->getStore()->getBaseUrl(\\Magento\\Framework\\UrlInterface::URL_TYPE_MEDIA);\n\t$form->setValue('image_url', $mediaUrl.'catalog\/product'.$product->getData('thumbnail'));\n\t$form->setValue('product_name', $product->getName());\n\t$form->setValue('product_sku', $product->getSku());\n}\n\n$form->setValue('form_url', $this->getUrl('sfg\/form\/index', ['formid' => $this->getForm()->getId()]));\n\n\/\/EXPLANATION: this method renders the current form page and returns HTML\n$this->page_html = $this->renderForm();\n\n\/\/EXPLANATION: output into the block\necho $this->page_html;","globaljs":"\/*******************************************************************\/\n\/\/ SmartFormer Gold (c) Form JS controller\n\/\/ Product of IToris (c) 2017 http:\/\/www.itoris.com\n\/*******************************************************************\/\n\nsfgObject.callback.afterLoad = function(){\n\t\/\/runs after the form has been fully initialized\n\tvar keywrodField = jQuery('#keyword')[0];\n\tif (keywrodField && keywrodField.value.length > 2) searchSfg();\n}\n\nsfgObject.callback.beforeSubmit = function(btn){\n\treturn true; \/\/return false to stop submission in case custom validation\n}\n\nfunction searchSfg() {\n\tvar keywrodField = jQuery('#keyword')[0];\n\tif (keywrodField && keywrodField.value.length < 3) {\n\t\talert(\"Keyword should be at least 3 characters\");\n\t\tkeywrodField.focus();\n\t\treturn false;\n\t}\n\tdocument.sfgSearchStart = 0;\n\tjQuery('#sfg_search_results').empty();\n\tgetSearchResults(keywrodField.value);\n}\n\nfunction getSearchResults() {\n\t\/\/Example of AJAX call to the form controller\n\tsfgObject.container.addClass('sfg-loader');\n\tjQuery('#sfg_load_more').remove();\n\tjQuery.post( sfgObject.config.ajax_url, {keyword: jQuery('#keyword').val(), start: document.sfgSearchStart } ).done(function( data ) {\n\t\tjQuery.each(data, function(index, product){\n\t\t\tjQuery('<div><\/div>').append(\n\t\t\t\tjQuery('<img><\/img>').attr({src: product.image, 'class': 'product_image'})\n\t\t\t).append(\n\t\t\t\tjQuery('<a><\/a>').attr({href: product.url, 'class': 'product_name'}).text(product.name)\n\t\t\t).append(\n\t\t\t\tjQuery('<div><\/div>').attr({'class': 'product_sku'}).text('SKU: '+product.sku)\n\t\t\t).append(\n\t\t\t\tjQuery('<div><\/div>').attr({'class': 'product_price'}).text(product.price)\n\t\t\t).append(\n\t\t\t\tjQuery('<input><\/input>').attr({'class': 'product_quote', type: 'button', 'class': 'action primary'}).on('click', function(){\n\t\t\t\t\tvar url = document.location.href, url = url + (url.indexOf('?') > -1 ? '&' : '?') + 'product_id=' + product.id;\n\t\t\t\t\tdocument.location = url;\n\t\t\t\t}).val(\"Request a Quote\")\n\t\t\t).attr({'class': 'sfg_product'}).appendTo(jQuery('#sfg_search_results'));\n\t\t});\n\t\tif (data.length == 10) {\n\t\t\tjQuery('<input><\/input>').attr({type: 'button', 'class': 'action primary', id: 'sfg_load_more'}).val('Load More').on('click', function(){\n\t\t\t\tgetSearchResults();\n\t\t\t}).appendTo('#sfg_search_results');\n\t\t\tdocument.sfgSearchStart += 10;\n\t\t}\n\t\tif (data.length == 0 && document.sfgSearchStart == 0) {\n\t\t\tjQuery('#sfg_search_results').append('<span style=\"color:red\">Nothing found for your keyword. Please refine the search phrase.<\/span>');\n\t\t} \n\t\tsfgObject.container.removeClass('sfg-loader');\n\t\tsfgObject.autoResponsive.resize();\n\t});\n}","globalhtml":"<form action=\"\" method=\"post\" name=\"sfgForm\" enctype=\"multipart\/form-data\">\r\n<%form_html%>\r\n<input type=\"hidden\" name=\"date_time\" \/>\r\n<\/form>","globalcss":".sfg-messages .sfg-fail {\n\tcolor: #ff0000;\n}\n\n.sfg_product {\n\tmargin:5px 10px;\n\tborder-bottom:1px solid #DDDDDD;\n\tclear:both;\n}\n\n.sfg_product:after{\n\tcontent: ' ';\n\tdisplay:block;\n\tclear:both;\n}\n\n.sfg_product .product_image {\n\theight:150px;\n\tfloat:left;\n\tmargin:0px 20px 10px 0px\n}\n\n.sfg_product .product_name {\n\tfont-size:18px;\n\tline-height:32px;\n}\n\n.sfg_product .product_sku {\n\tfont-size:14px;\n\tline-height:24px;\n}\n\n.sfg_product .product_price {\n\tcolor:blue;\n\tfont-weight:bold;\n\tfont-size:14px;\n\tline-height:24px;\n}\n\n#sfg_load_more {\n\twidth:100%;\n}\n\n.sfg-progress {\n\toverflow:hidden;\n\twidth:100% !important;\n}\n\n.sfg-progress > span {\n\tdisplay:inline-block;\n\twidth:33%;\n\ttext-align:center;\n\tline-height:32px;\n\tfont-size:14px;\n\tcolor:#000000;\n\tposition:relative;\n\tmargin-left:-16px;\n}\n\n.sfg-mobile .sfg-progress > span {\n\tfont-size:10px;\n}\n\n.sfg-progress > span.current, .sfg-progress > span.passed{\n\tcolor:#EEEEEE;\n}\n\n.sfg-progress > span.current{\n\tcolor:#FFFFFF;\n}\n\n.sfg-progress > span:before {\n\tcontent: \" \";\n\tposition: absolute;\n\tleft:0px;\n\ttop:0px;\n\tright:0px;\n\tbottom:0px;\n\tz-index:-1;\n\t-webkit-transform:skewX(45deg);\n\t-ms-transform:skewX(45deg);\n\ttransform:skewX(45deg);\n\tbackground: #DBDBDB;\n\t-webkit-box-shadow: inset 0px 13px 22px -8px rgba(255,255,255,0.5);\n\t-moz-box-shadow: inset 0px 13px 22px -8px rgba(255,255,255,0.5);\n\tbox-shadow: inset 0px 13px 22px -8px rgba(255,255,255,0.5);\n}\n.sfg-progress > span.passed:before {\n\tbackground: #346394;\n}\n.sfg-progress > span.current:before {\n\tbackground: #346394;\n}\n","database":{"name":"itoris_sfg_example_quote_form","map":[["id",""],["product_name","product_name"],["product_sku","product_sku"],["name","name"],["email","email"],["phone","phone"],["comments","comments"]],"structure":"CREATE TABLE IF NOT EXISTS `itoris_sfg_example_quote_form` (\n  `id` int(11) NOT NULL AUTO_INCREMENT,\n  `product_name` varchar(255) NOT NULL,\n  `product_sku` varchar(255) NOT NULL,\n  `name` varchar(255) NOT NULL,\n  `email` varchar(255) NOT NULL,\n  `phone` varchar(255) NOT NULL,\n  `comments` text NOT NULL,\n  PRIMARY KEY (`id`)\n) ENGINE=InnoDB AUTO_INCREMENT=7 DEFAULT CHARSET=utf8"},"pages":["Page 1","Page 2","Page 3","Page 4","Page 5","Page 6","Page 7","Page 8","Page 9","Page 10"],"elements":[{"alias":"","tag":"span","page":0,"attributes":[],"events":[],"styles":[["left","0px",null],["top","48px",null],["width","313px",null],["font-family","",null],["font-size","18px",null]],"params":[],"content":"<b>Request For a Quote<\/b>"},{"alias":"","tag":"span","page":0,"attributes":[],"events":[],"styles":[["left","0px",null],["top","81px",null]],"params":[],"content":"Search products by name or SKU:"},{"alias":"","tag":"input","page":0,"attributes":[["type","text",""],["id","keyword",null],["name","keyword",null]],"events":[],"styles":[["width","220px",""],["left","226px",null],["top","81px",null]],"params":[["required",true,null]]},{"alias":"","tag":"input","page":0,"attributes":[["type","button",""],["value","Search Products",""],["class","action",""]],"events":[["onclick","searchSfg()",null]],"styles":[["width","140px",""],["left","460px",null],["top","80px",null],["height","32px",null],["font-size","14px",null]],"params":[["on-click-action","4",null],["after-submit","3",null]]},{"alias":"","tag":"div","page":0,"attributes":[["id","sfg_search_results",null]],"events":[],"styles":[["left","0px",null],["top","133px",null],["width","879px",null],["overflow-x","",null],["overflow-y","auto",null],["border-style","",null],["border-top-style","",null]],"params":[],"content":"<i>Please search above<\/i>"},{"alias":"","tag":"span","page":1,"attributes":[],"events":[],"styles":[["left","0px",null],["top","48px",null],["width","313px",null],["font-family","",null],["font-size","18px",null]],"params":[],"content":"<b>Request For a Quote<\/b>"},{"alias":"","tag":"div","page":1,"attributes":[],"events":[],"styles":[["left","0px",null],["top","80px",null],["width","303px",null]],"params":[],"content":"You are requesting the following product:"},{"alias":"","tag":"img","page":1,"attributes":[["src","{{image_url}}",""],["alt","image",""]],"events":[],"styles":[["left","0px",null],["top","118px",null],["height","200px",null]],"params":[]},{"alias":"","tag":"span","page":1,"attributes":[],"events":[],"styles":[["left","256px",null],["top","120px",null],["width","133px",null]],"params":[],"content":"Product Name:<span style=\"color:red\">*<\/span>"},{"alias":"Product Name","tag":"input","page":1,"attributes":[["type","text",""],["name","product_name",null],["readonly",true,null]],"events":[],"styles":[["width","300px",""],["left","417px",null],["top","118px",null],["background-color","#f5f5f5",null]],"params":[["required",true,null]]},{"alias":"","tag":"span","page":1,"attributes":[],"events":[],"styles":[["left","256px",null],["top","155px",null],["width","128px",null]],"params":[],"content":"Product SKU:<span style=\"color:red\">*<\/span>"},{"alias":"Product Email","tag":"input","page":1,"attributes":[["type","text",""],["name","product_sku",null],["readonly",true,null]],"events":[],"styles":[["width","300px",""],["left","417px",null],["top","153px",null],["background-color","#f5f5f5",null]],"params":[["required",true,null]]},{"alias":"","tag":"span","page":1,"attributes":[],"events":[],"styles":[["left","256px",null],["top","235px",null],["width","129px",null]],"params":[],"content":"Your Name:<span style=\"color:red\">*<\/span>"},{"alias":"Name","tag":"input","page":1,"attributes":[["type","text",""],["name","name",null],["readonly","",null]],"events":[],"styles":[["width","300px",""],["left","417px",null],["top","233px",null]],"params":[["required",true,null]]},{"alias":"","tag":"span","page":1,"attributes":[],"events":[],"styles":[["left","256px",null],["top","199px",null],["width","217px",null],["font-size","18px",null]],"params":[],"content":"Contact Information"},{"alias":"","tag":"span","page":1,"attributes":[],"events":[],"styles":[["left","256px",null],["top","271px",null],["width","128px",null]],"params":[],"content":"Email:<span style=\"color:red\">*<\/span>"},{"alias":"Email","tag":"input","page":1,"attributes":[["type","text",""],["name","email",null],["readonly","",null]],"events":[],"styles":[["width","300px",""],["left","417px",null],["top","269px",null]],"params":[["required",true,null],["validation","Email",null]]},{"alias":"","tag":"span","page":1,"attributes":[],"events":[],"styles":[["left","256px",null],["top","308px",null],["width","122px",null]],"params":[],"content":"Phone:"},{"alias":"","tag":"input","page":1,"attributes":[["type","text",""],["name","phone",null],["readonly","",null]],"events":[],"styles":[["width","300px",""],["left","417px",null],["top","306px",null]],"params":[]},{"alias":"","tag":"span","page":1,"attributes":[],"events":[],"styles":[["left","0px",null],["top","374px",null]],"params":[],"content":"Your comments:"},{"alias":"Comments","tag":"textarea","page":1,"attributes":[["rows","5",""],["cols","30",""],["name","comments",null]],"events":[],"styles":[["width","717px",""],["height","190px",""],["left","0px",null],["top","400px",null],["border-bottom","",null]],"params":[],"content":"Dear admin,\n\nCould you provide a discount for 5 items of this?\n....\n\nBest regards,\n{{name}}"},{"alias":"","tag":"input","page":1,"attributes":[["type","button",""],["value","Submit Quote",""],["class","action primary",""]],"events":[],"styles":[["width","145px",""],["left","0px",null],["top","614px",null],["height","36px",null],["opacity","",null],["min-width","145px",null]],"params":[["on-click-action","1",null],["after-submit","0",null],["save-data",true,null]]},{"alias":"","tag":"span","page":2,"attributes":[],"events":[],"styles":[["left","12px",null],["top","52px",null],["width","568px",null],["font-family","",null],["font-size","18px",null],["line-height","24px",null]],"params":[],"content":"<center>Thank you for submitting the quote form. We will contact you as soon as possible!<\/center>"},{"alias":"","tag":"div","page":0,"attributes":[["class","sfg-progress",null]],"events":[],"styles":[["left","0px",null],["top","0px",null],["width","771px",null]],"params":[],"content":"<span class=\"current\">Search Products<\/span>\n<span>Request a Quote<\/span>\n<span>Quote Sent<\/span>"},{"alias":"","tag":"div","page":1,"attributes":[["class","sfg-progress",null]],"events":[],"styles":[["left","0px",null],["top","0px",null],["width","771px",null]],"params":[],"content":"<span class=\"passed\">Search Products<\/span>\n<span class=\"current\">Request a Quote<\/span>\n<span>Quote Sent<\/span>"},{"alias":"","tag":"div","page":2,"attributes":[["class","sfg-progress",null]],"events":[],"styles":[["left","0px",null],["top","0px",null],["width","771px",null]],"params":[],"content":"<span class=\"passed\">Search Products<\/span>\n<span class=\"passed\">Request a Quote<\/span>\n<span class=\"current\">Quote Sent<\/span>"},{"alias":"","tag":"input","page":1,"attributes":[["type","button",""],["value","Cancel",""],["class","action",""]],"events":[["onclick","document.location.href='{{form_url}}';",null]],"styles":[["width","145px",""],["left","576px",null],["top","614px",null],["height","36px",null],["font-size","14px",null]],"params":[["on-click-action","4",null],["after-submit","0",null]]},{"alias":"","tag":"a","page":2,"attributes":[["href","{{form_url}}",""]],"events":[],"styles":[["left","12px",null],["top","143px",null]],"params":[],"content":"<< Back to search"},{"alias":"","tag":"a","page":1,"attributes":[["href","{{form_url}}",""]],"events":[],"styles":[["left","598px",null],["top","48px",null],["line-height","26px",null],["width","125px",null],["min-width","125px",null],["font-size","14px",null]],"params":[],"content":"<< Back to search"}],"email_templates":[{"id":1,"name":"email to user","fromName":"admin of website","fromEmail":"admin@website.com","subject":"Your details on website.com","cc":"","bcc":"","body":"<p>{{template config_path=\"design\/email\/header_template\"}}<\/p>\n    <p><strong>Dear {{name}},<\/strong><\/p>\n    <p>Thank you for contacting us! One of our representatives will reply to you shortly.<\/p>\n    <p>Below is the information you posted:<\/p>\n    <p>{{%all_data%}}<\/p>\n    <p>{{template config_path=\"design\/email\/footer_template\"}}<\/p>","format":"1"},{"id":2,"name":"email to admin","fromName":"admin of website","fromEmail":"admin@website.com","subject":"New user details","cc":"","bcc":"","body":"<p>{{template config_path=\"design\/email\/header_template\"}}<\/p>\n    <p><strong>Hello Admin,<\/strong><\/p>\n    <p>The form has been submitted. Please find below the details:<\/p>\n    <p>{{%all_data%}}<\/p>\n    <p>{{template config_path=\"design\/email\/footer_template\"}}<\/p>","format":"1"},{"id":3,"name":"your custom email","fromName":"From Name","fromEmail":"from@email.com","subject":"Custom email subject","cc":"","bcc":"","body":"<p>{{template config_path=\"design\/email\/header_template\"}}<\/p>\n    <p>Fill in your custom email. You can create as meny templates as you wish. Click 'New Document' icon to start<\/p>\n    <p>&nbsp;<\/p>\n    <p>{{template config_path=\"design\/email\/footer_template\"}}<\/p>","format":"1"}],"validators":[{"alias":"Required","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = 'Field: %s. Field is required';\nmsg = msg.replace('%s', sfgName); \nif (obj.type && (obj.type.toLowerCase()=='checkbox' || obj.type.toLowerCase()=='radio') && !obj.checked) return msg; \nif (obj.tagName.toLowerCase()=='select' && (obj.selectedIndex==-1 || obj.selectedIndex==0)) return msg; \nif (obj.value=='') return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\nif (empty($value)) return 'Field: '.$this->getAlias().'. Field is required';"},{"alias":"Group Required","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = 'Group: %s. Please select a value';\nmsg = msg.replace('%s', sfgName); \nvar objs = document.getElementsByName(obj.name); \nvar checked = false; \nfor (i=0; i<objs.length; i++) if (objs[i].checked) { checked = true; break; } \nif (!checked) return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\nif (empty($value)) return 'Group: '.$this->getAlias().'. Please select a value';"},{"alias":"Check identical","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object, obj2 - another HTML element for comparing\nvar msg = 'Field: %s. Entities are not identical';\nmsg = msg.replace('%s', sfgName);\nvar el2 = document.getElementsByName(obj2)[0];\nif (el2 && obj.value != el2.value) return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\n$elements = $this->getForm()->getElementsByName($this->getParam('equal-to'));\n$value2 = count($elements) ? $elements[0]->getPostedValue() : null;\nif (!is_null($value2) && $value != $value2) return 'Fields '.$this->getAlias().' and '.$elements[0]->getAlias().' should be identical';"},{"alias":"Email","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = 'Field: %s. Invalid email. Please specify a valid value';\nmsg = msg.replace('%s', sfgName);\nvar RegExp=\/^((([a-z]|[0-9]|!|#|$|%|&|'|\\*|\\+|\\-|\\\/|=|\\?|\\^|_|`|\\{|\\||\\}|~)+(\\.([a-z]|[0-9]|!|#|$|%|&|'|\\*|\\+|\\-|\\\/|=|\\?|\\^|_|`|\\{|\\||\\}|~)+)*)@((((([a-z]|[0-9])([a-z]|[0-9]|\\-){0,61}([a-z]|[0-9])\\.))*([a-z]|[0-9])([a-z]|[0-9]|\\-){0,61}([a-z]|[0-9])\\.)[\\w]{2,4}|(((([0-9]){1,3}\\.){3}([0-9]){1,3}))|(\\[((([0-9]){1,3}\\.){3}([0-9]){1,3})\\])))$\/;\nif (obj.value!='' && !RegExp.test(obj.value.toLowerCase())) return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\n$RegExp=\"\/^((([a-z]|[0-9]|!|#|$|%|&|'|\\*|\\+|\\-|\\\/|=|\\?|\\^|_|`|\\{|\\||\\}|~)+(\\.([a-z]|[0-9]|!|#|$|%|&|'|\\*|\\+|\\-|\\\/|=|\\?|\\^|_|`|\\{|\\||\\}|~)+)*)@((((([a-z]|[0-9])([a-z]|[0-9]|\\-){0,61}([a-z]|[0-9])\\.))*([a-z]|[0-9])([a-z]|[0-9]|\\-){0,61}([a-z]|[0-9])\\.)[\\w]{2,4}|(((([0-9]){1,3}\\.){3}([0-9]){1,3}))|(\\[((([0-9]){1,3}\\.){3}([0-9]){1,3})\\])))$\/\";\nif (is_array($value) || $value && !preg_match($RegExp, strtolower($value))) return 'Field: '.$this->getAlias().'. Incorrect Email address';"},{"alias":"Zip","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = 'Field: %s. Please specify a correct zip\/postal';\nmsg = msg.replace('%s', sfgName);\nvar letters='qwertyuiopasdfghjklzxcvbnm -1234567890';\nvar ps=false;\nfor(i=0;i<obj.value.length;i++) if (letters.indexOf(obj.value.toLowerCase().substr(i,1))<0) ps=true;\nif (ps || obj.value.length>10) return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\nif (is_array($value)) $value = '*'; \/\/invalidate\nfor($i=0; $i<strlen($value); $i++) {\n    if (strpos('qwertyuiopasdfghjklzxcvbnm -1234567890', substr(strtolower($value), $i, 1))===false) return 'Field: '.$this->getAlias().'. Please specify a correct zip\/postal';\n}"},{"alias":"ZipUS","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = 'Field: %s. Invalid US Zip. Please specify a valid value';\nmsg = msg.replace('%s', sfgName);\nvar zipPattern1=\/^(\\d{5})$\/;\nvar zipPattern2=\/^(\\d{5})\\-(\\d{4})$\/;\nif ((obj.value.match(zipPattern1)==null)&&(obj.value.match(zipPattern2)==null)&&obj.value.length>0) return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\n$zipPattern1=\"\/^(\\d{5})$\/\";\n$zipPattern2=\"\/^(\\d{5})\\-(\\d{4})$\/\";\nif (is_array($value) || $value && !preg_match($zipPattern1, $value) && !preg_match($zipPattern2, $value)) return 'Field: '.$this->getAlias().'. Incorrect Zip';"},{"alias":"Phone","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = 'Field: %s. Please specify a correct phone number';\nmsg = msg.replace('%s', sfgName);\nvar letters='1234567890 -.()+';\nvar ps=false;\nfor(i=0;i<obj.value.length;i++) if (letters.indexOf(obj.value.toLowerCase().substr(i,1))<0) ps=true;\nif (ps || obj.value.length>10) return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\nfor($i=0; $i<strlen($value); $i++) {\n    if (strpos('1234567890 -.()+', substr($value, $i, 1))===false) return 'Field: '.$this->getAlias().'. Incorrect phone number';\n}"},{"alias":"PhoneUS","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = 'Field: %s. Invalid value! Please, provide a phone number in format XXX-XXX-XXXX, where X is a digit.';\nmsg = msg.replace('%s', sfgName);\nvar phonePattern=\/^(\\d{3})\\-(\\d{3})\\-(\\d{4})$\/;\nif ((obj.value.match(phonePattern)==null)&&obj.value.length>0) return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\n$phonePattern=\"\/^(\\d{3})\\-(\\d{3})\\-(\\d{4})$\/\";\nif (is_array($value) || $value && !preg_match($phonePattern, $value)) return 'Field: '.$this->getAlias().'. Please, provide a phone number in format XXX-XXX-XXXX, where X is a digit';"},{"alias":"Password","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = 'Field: %s. The password should contain 6 to 12 symbols';\nmsg = msg.replace('%s', sfgName);\nif ((obj.value.length<6 || obj.value.length>12) && obj.value.length!=0) return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\nif (is_array($value) || $value && (strlen($value) < 6 || strlen($value) > 12)) return 'Field: '.$this->getAlias().'. The password should have 6 to 12 symbols';"},{"alias":"CreditCardNumber","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = 'Field: %s. Please specify a correct credit card number';\nmsg = msg.replace('%s', sfgName);\nvar ccPattern=\/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\\d{3})\\d{11})$\/;\nif ((obj.value.match(ccPattern)==null)&&obj.value.length>0) return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\n$ccPattern=\"\/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\\d{3})\\d{11})$\/\";\nif (is_array($value) || $value && !preg_match($ccPattern, strtolower($value))) return 'Field: '.$this->getAlias().'. Incorrect credit card number';"},{"alias":"CreditCardCVV","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = 'Field: %s. Please specify a correct credit card CVV';\nmsg = msg.replace('%s', sfgName);\nvar letters='1234567890';\nvar ps=false;\nfor(i=0;i<obj.value.length;i++) if (letters.indexOf(obj.value.toLowerCase().substr(i,1))<0) ps=true;\nif (ps || (obj.value.length<3 && obj.value.length!=0) || obj.value.length>4) return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\nif (is_array($value) || $value && (strlen($value) < 3 || strlen($value) > 4 || !is_numeric($value))) return 'Field: '.$this->getAlias().'. Incorrect credit card CVV';"},{"alias":"Money","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = 'Field: %s. Please specify currency correctly';\nmsg = msg.replace('%s', sfgName);\nvar letters='1234567890.';\nvar ps=false; for(i=0;i<obj.value.length;i++) if (letters.indexOf(obj.value.toLowerCase().substr(i,1))<0) ps=true;\nif (ps || obj.value.length>10 || Math.floor(obj.value*100)\/100!=obj.value-0) return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\nif (is_array($value) || $value && (floor(floatval($value)*100)\/100!=floatval($value) || !is_numeric($value))) return 'Field: '.$this->getAlias().'. Incorrect amount';"},{"alias":"URL","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = 'Field: %s. Please specify a valid URL';\nmsg = msg.replace('%s', sfgName);\nvar RegExp=\/^(([\\w]+:)?\\\/\\\/)?(([\\d\\w]|%[a-fA-f\\d]{2,2})+(:([\\d\\w]|%[a-fA-f\\d]{2,2})+)?@)?([\\d\\w][-\\d\\w]{0,253}[\\d\\w]\\.)+[\\w]{2,4}(:[\\d]+)?(\\\/([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)*(\\?(&?([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})=?)*)?(#([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)?$\/;\nif (obj.value!='' && !RegExp.test(obj.value)) return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\n$RegExp=\"\/^(([\\w]+:)?\\\/\\\/)?(([\\d\\w]|%[a-fA-f\\d]{2,2})+(:([\\d\\w]|%[a-fA-f\\d]{2,2})+)?@)?([\\d\\w][-\\d\\w]{0,253}[\\d\\w]\\.)+[\\w]{2,4}(:[\\d]+)?(\\\/([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)*(\\?(&?([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})=?)*)?(#([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)?$\/\";\nif (is_array($value) || $value && !preg_match($RegExp, strtolower($value))) return 'Field: '.$this->getAlias().'. Incorrect URL';"},{"alias":"IP","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = 'Field: %s. Please specify a correct IP';\nmsg = msg.replace('%s', sfgName);\nvar RegExp=\/^(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})$\/;\nvar a=obj.value.split('.');\nif (obj.value!='' && !RegExp.test(obj.value) || a[0]>255 || a[1]>255 || a[2]>255 || a[3]>255) return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\nif (is_array($value) || $value && ip2long($value) === false) return 'Field: '.$this->getAlias().'. Incorrect IP';"},{"alias":"SSN","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = 'Field: %s. Invalid value! Please, provide a SSN in format XXX-XX-XXXX or XX-XXXXXXX, where X is a digit.';\nmsg = msg.replace('%s', sfgName);\nvar ssnPattern1 = \/^(\\d{3})\\-(\\d{2})\\-(\\d{4})$\/;\nvar ssnPattern2 = \/^(\\d{2})\\-(\\d{7})$\/;\nif ((obj.value.match(ssnPattern1)==null)&&(obj.value.match(ssnPattern2)==null)&&obj.value.length>0) return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\n$ssnPattern1=\"\/^(\\d{3})\\-(\\d{2})\\-(\\d{4})$\/\";\n$ssnPattern2=\"\/^(\\d{2})\\-(\\d{7})$\/\";\nif (is_array($value) || $value && !preg_match($ssnPattern1, $value) && !preg_match($ssnPattern2, $value)) return 'Field: '.$this->getAlias().'. SSN should be in format XXX-XX-XXXX or XX-XXXXXXX, where X is a digit.';"},{"alias":"Date","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = 'Field: %s. Invalid value! Field value should be in MM\/DD\/YYYY format.';\nmsg = msg.replace('%s', sfgName);\nvar a=obj.value.split('\/');\nif (a[0]-0>0 && a[0]-0<=12 && a[1]-0>0 && a[1]-0<=31 && a[2]-0>1000 && a[2]-0<=9999 && a[3]==null ||obj.value.length==0) return null; else return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\n$datePattern=\"\/^(\\d{1,2})\\\/(\\d{1,2})\\\/(\\d{4})$\/\";\nif (is_array($value) || $value && !preg_match($datePattern, $value)) return 'Field: '.$this->getAlias().'. Date should be in MM\/DD\/YYYY format.';"},{"alias":"DateShort","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = 'Field: %s. Invalid value! Field value should be in MM\/DD\/YY format';\nmsg = msg.replace('%s', sfgName);\nvar a=obj.value.split('\/');\nif (a[0]-0>0 && a[0]-0<=12 && a[1]-0>0 && a[1]-0<=31 && a[2]-0>=0 && a[2]-0<=99 && a[3]==null ||obj.value.length==0) return null; else return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\n$datePattern=\"\/^(\\d{1,2})\\\/(\\d{1,2})\\\/(\\d{2})$\/\";\nif (is_array($value) || $value && !preg_match($datePattern, $value)) return 'Field: '.$this->getAlias().'. Date should be in MM\/DD\/YY format.';"},{"alias":"Time","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = 'Field: %s. Invalid value! Field value should be in HH:MM format.';\nmsg = msg.replace('%s', sfgName);\nvar a=obj.value.split(':');\nif (a[0]-0>=0 && a[0]-0<24 && a[1]-0>=0 && a[1]-0<60 && a[2]==null ||obj.value.length==0) return null; else return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\n$timePattern=\"\/^(\\d{1,2})\\:(\\d{2})$\/\";\nif (is_array($value) || $value && !preg_match($timePattern, $value)) return 'Field: '.$this->getAlias().'. Time should be in HH:MM format.';"}]},{"name":"Poll example","ext_access":[-1],"autoresponsive":1,"maxsubmissions":0,"submitajax":1,"allow_editing":1,"description":"Multi-page form, AJAX, animated results","globalphp":"\/*******************************************************************\/\n\/* SmartFormer Gold (c) Form PHP controller                                                    *\/\n\/* Product of IToris (c) 2017 http:\/\/www.itoris.com                                            *\/\n\/*******************************************************************\/\n\n\/\/EXAMPLE OF AJAX RESPONSE\nif ($this->getRequest()->getParam(\"sfg_ajax\")) {\n\t$post = $this->getRequest()->getPost()->toArray();\n\techo \"You posted the following data:\\n\";\n\tprint_r($post);\n\texit;\n}\n\n\/\/EXPLANATION: $this is the block containg the form, the form model can be accessed as $this->getForm();\n$form = $this->getForm();\n\n\/\/EXPLANATION: this method merges data in session and $this->getRequest()->getPost() and returns all values as array\n$allValues = $this->getPostedValues();\n\n\/\/EXPLANATION: this method validates the form data, returns TRUE or FALSE\n$isValid = $this->validate();\n\n\/\/EXPLANATION: if form is valid this method will perform all actions after submit: saves data to database, navigates between pages, emails, etc.\n$this->dispatch();\n\n\/\/EXAMPLE: howto populate name and email from session if customer is logged in\n$customerSession = $this->_objectManager->get('Magento\\Customer\\Model\\Session');\nif ($customerSession->isLoggedIn()) {\n\tif (!$form->getValue('name')) $form->setValue('name', $customerSession->getCustomer()->getName());\n\tif (!$form->getValue('email')) $form->setValue('email', $customerSession->getCustomer()->getEmail());\n}\n\n$answerPercents = [0, 0];\nif ($this->getForm()->getPage() > 0 && $this->getForm()->getPage() < 7) {\n\t$res = $this->_objectManager->get('Magento\\Framework\\App\\ResourceConnection');\n\t$con = $res->getConnection('read');\n\t$totalAnswers = (int) $con->fetchOne(\"select count(*) from `{$this->config->database->name}`\");\n\t$zeroAnswers = (int) $con->fetchOne(\"select count(*) from `{$this->config->database->name}` where `answer{$this->getForm()->getPage()}` = 0\");\n\tif ($totalAnswers > 0) {\n\t\t$answerPercents = [ $zeroAnswers\/$totalAnswers*100, 100 - $zeroAnswers\/$totalAnswers*100];\n\t}\n}\n\n$answerExplanations = [\n\t0 => [],\n\t1 => [\n\t\t'correct' => '99.86%, to be precise. Compared to Earth, the Sun weighs 332 946 times as much as Earth',\n\t\t'incorrect' => 'Even more! About 99.86%. Compared to Earth, the Sun weighs 332 946 times as much as Earth'\n\t],\n\t2 => [\n\t\t'correct' => 'The Sun\\'s gravity is 28 times stronger than the Earth\\'s gravity. So 133-Ib.person would weigh 3704 Ib on the Sun!',\n\t\t'incorrect' => 'The Sun\\'s gravity is 28 times stronger than the Earth\\'s gravity. So 133-Ib.person would weigh 3704 Ib on the Sun!'\n\t],\n\t3 => [\n\t\t'correct' => 'True! It is planet Mercury. Then Venus, Earth, Mars, Jupiter...',\n\t\t'incorrect' => 'No, the closest planet is Mercury. Then Venus, Earth, Mars, Jupiter...'\n\t],\n\t4 => [\n\t\t'correct' => 'Yes, furthermore there are small amounts of vitamin D in a few foods. Through the winter it\\'s possible to get enough vitamin D from fatty fish, for example',\n\t\t'incorrect' => 'There are small amounts of vitamin D in a few foods. Through the winter it\\'s possible to get enough vitamin D from fatty fish, for example'\n\t],\n\t5 => [\n\t\t'correct' => 'Planets that orbit around other stars, but not the Sun, are called exoplanets. The first confirmed detection came in 1991, with two planets found orbiting a pulsar (a neutron star)',\n\t\t'incorrect' => 'Planets that orbit around other stars, but not the Sun, are called exoplanets. The first confirmed detection came in 1991, with two planets found orbiting a pulsar (a neutron star)'\n\t],\n\t6 => [\n\t\t'correct' => 'True! The bright lights of the aurora are collisions between electrically charged particles from the sun that enter the earth\\'s atmosphere',\n\t\t'incorrect' => 'The bright lights of the aurora are collisions between electrically charged particles from the sun that enter the earth\\'s atmosphere '\n\t],\n\t7 => []\n];\n\n$answerExplanation = $answerExplanations[(int)$this->getForm()->getPage()];\n\n$form->setValue('percents', json_encode($answerPercents));\n$form->setValue('answer_details', json_encode($answerExplanation));\n\n$form->setValue('poll_correct_answers', (int)$form->getValue('poll_correct_answers'));\n\n\/\/EXPLANATION: this method renders the current form page and returns HTML\n$this->page_html = $this->renderForm();\n\n\/\/EXPLANATION: output into the block\necho $this->page_html;","globaljs":"\/*******************************************************************\/\n\/\/ SmartFormer Gold (c) Form JS controller\n\/\/ Product of IToris (c) 2017 http:\/\/www.itoris.com\n\/*******************************************************************\/\n\nsfgObject.autoResponsive.mobileWidth = 0; \/\/never inline elements\n\nsfgObject.callback.afterLoad = function(){\n\t\/\/runs after the form has been fully initialized\n\tif (jQuery('#poll-radial-results')[0]) {\n\t\tdrawPollResults(0, jQuery('#poll_correct_answers').val());\n\t}\n}\n\nsfgObject.callback.beforeSubmit = function(btn){\n\treturn true; \/\/return false to stop submission in case custom validation\n}\n\nfunction checkAnswer(obj) {\n\tif (jQuery(obj).hasClass('answered')) return;\n\tjQuery('.poll-text').animate({left: '-100%'}, 1000, function(){\n\t\tjQuery('.poll-text').css({left: 0, opacity:0}).text(\n\t\t\tanswerExplanation[jQuery(obj).hasClass('correct') ? 'correct' : 'incorrect']\n\t\t).animate({opacity: 1});\n\t\tjQuery('#next-btn').removeClass('sfg-hidden').css({opacity:0}).animate({opacity: 1});\n\t});\n\tvar index = jQuery('.poll-answer').index(obj);\n\tjQuery('.poll-answer').each(function(i, answer){\n\t\tjQuery(answer).addClass('answered');\n\t\tjQuery(answer).find('.poll-answer-bg').after('<div class=\"poll-answer-bar\" style=\"width:0%\"><div><\/div><\/div>');\n\t\tvar progressDiv = jQuery(answer).find('.poll-answer-bar div');\n\t\tvar percent = answerPercents[i];\n\t\tjQuery(answer).find('.poll-answer-bar').animate({width: percent + '%'}, {\n\t\t\tduration: 700,\n\t\t\tprogress: function(a, n){\n\t\t\t\tprogressDiv.text(parseInt(percent * n) + '%');\n\t\t\t}\n\t\t});\n\t});\n\tif (jQuery(obj).hasClass('correct')) jQuery('#poll_correct_answers')[0].value++;\n\tjQuery('#poll_answer')[0].value = index;\n}\n\nfunction drawPollResults(current, final){\n\tvar obj = jQuery('#poll-radial-results'), rate = current \/ 6 * 100;\n\tif (rate < 50) {\n\t\tobj.css('background-image', 'linear-gradient(90deg, #2f3439 50%, transparent 50%, transparent), linear-gradient(' + (90 + 3.6 * rate) + 'deg, #ff6347 50%, #2f3439 50%, #2f3439)');\n\t} else {\n\t\tobj.css('background-image', 'linear-gradient(' + (-90 + 3.6 * (rate - 50)) + 'deg, #ff6347 50%, transparent 50%, transparent), linear-gradient(270deg, #ff6347 50%, #2f3439 50%, #2f3439)');\n\t}\n\tjQuery('#poll-radial-results .overlay').text(Math.ceil(current) + ' of 6');\n\tcurrent+=0.1;\n\tif (current.toFixed(5) <= final) setTimeout(function(){drawPollResults(current, final);}, 30);\n}","globalhtml":"<form action=\"\" method=\"post\" name=\"sfgForm\" enctype=\"multipart\/form-data\">\n<%form_html%>\n<input type=\"hidden\" name=\"poll_correct_answers\" id=\"poll_correct_answers\" value=\"{{poll_correct_answers}}\" \/>\n<\/form>\n<script type=\"text\/javascript\">\n\tvar answerPercents = {{%percents%}};\n\tvar answerExplanation = {{%answer_details%}};\n<\/script>","globalcss":".sfg-messages .sfg-fail {\n\tcolor: #ff0000;\n}\n.sfg-loader:before {\n\tbackground:#000000;\n}\n\n.sfg-hidden {\n\tvisibility:hidden;\n}\n\n.sfg-poll-bg {\n\twidth:100% !important;\n\tbackground-position:center top;\n\tbackground-repeat:no-repeat;\n\toverflow:hidden;\n}\n.poll-text {\n\tposition:relative;\n}\n\n#begin-btn {\n\tleft:50% !important;\n\tmargin-left:-55px;\n}\n\n#next-btn {\n\tleft:auto !important;\n\tright:8%;\n}\n\n.poll-answer:not(.fixed) {\n\tleft:8% !important;\n\twidth:80% !important;\n}\n.poll-answer div {\n\tposition:relative;\n}\n\n.poll-answer:hover .poll-answer-bg {\n\topacity:0.5 !important;\n}\n\n.poll-answer.fixed.answered > div{\n\ttext-align:left !important;\n\tpadding-left:10px;\n}\n\n.answered .poll-answer-bg {\n\tdisplay:none;\n}\n\n.poll-answer.answered {\n\tcursor:default !important;\n}\n\n.poll-answer div.poll-answer-bar {\n\tposition:absolute;\n\tleft:0px;\n\ttop:0px;\n\tbottom:0px;\n\ttext-align:right;\n\topacity:0.8;\n\tmin-width:120px;\n}\n.poll-answer div.poll-answer-bar div {\n\tposition:absolute;\n\tleft:100%;\n\ttop:0px;\n\tmargin-left:5px;\n}\n\n.correct .poll-answer-bar {\n\tbackground:#00AA00;\n}\n\n.incorrect .poll-answer-bar {\n\tbackground:#AA0000;\n}\n\n@media only screen and (max-width:600px){\n\t.poll-text {\n\t\tfont-size:18px;\n\t\tline-height:32px;\n\t}\n}\n\n#poll-radial-results {\n\tmargin-top:30px;\n\tposition: relative;\n\twidth: 200px;\n\theight: 200px;\n\tborder-radius: 50%;\n\tbackground-color:#2f3439;\n}\n\n#poll-radial-results .overlay {\n\tposition: absolute;\n\twidth: 160px;\n\theight: 160px;\n\tbackground-color: #fffde8;\n\tcolor:#333333;\n\tborder-radius: 50%;\n\tmargin-left: 20px;\n\tmargin-top: 20px;\n\ttext-align: center;\n\tline-height: 160px;\n\tfont-size: 16px;\n}\n","database":{"name":"itoris_sfg_example_poll","map":[["id",""],["answer1","answer1"],["answer2","answer2"],["answer3","answer3"],["answer4","answer4"],["answer5","answer5"],["answer6","answer6"]],"structure":"CREATE TABLE IF NOT EXISTS `itoris_sfg_example_poll` (\n  `id` int(11) NOT NULL AUTO_INCREMENT,\n  `answer1` tinyint(4) NOT NULL,\n  `answer2` tinyint(4) NOT NULL,\n  `answer3` tinyint(4) NOT NULL,\n  `answer4` tinyint(4) NOT NULL,\n  `answer5` tinyint(4) NOT NULL,\n  `answer6` tinyint(4) NOT NULL,\n  PRIMARY KEY (`id`)\n) ENGINE=InnoDB AUTO_INCREMENT=12 DEFAULT CHARSET=utf8"},"pages":["Page 1","Page 2","Page 3","Page 4","Page 5","Page 6","Page 7","Page 8","Page 9","Page 10"],"elements":[{"alias":"","tag":"div","page":0,"attributes":[["class","sfg-poll-bg",null]],"events":[],"styles":[["left","0px",null],["top","0px",null],["width","900px",null],["height","550px",null],["background-image","url({base_url}pub\/media\/sfg\/images\/poll-01-intro.jpg)",null],["color","#EEEEEE",null],["font-size","26px",null],["line-height","42px",null]],"params":[],"content":"<center class=\"poll-text\" style=\"margin-top:80px\">\n<b>Poll<\/b>: True or False?<br \/>\n<b>What do you know about the Sun?<\/b>\n<\/center>"},{"alias":"","tag":"input","page":0,"attributes":[["type","button",""],["value","Start Poll",""],["class","action primary",""],["id","begin-btn",null]],"events":[],"styles":[["width","110px",""],["left","390px",null],["top","253px",null],["min-width","110px",null]],"params":[["on-click-action","1",null],["after-submit","0",null]]},{"alias":"","tag":"div","page":1,"attributes":[["class","sfg-poll-bg",null]],"events":[],"styles":[["left","0px",null],["top","0px",null],["width","900px",null],["height","550px",null],["background-image","url({base_url}pub\/media\/sfg\/images\/poll-02-solar-system.jpg)",null],["color","#EEEEEE",null],["font-size","26px",null],["line-height","42px",null]],"params":[],"content":"<div style=\"font-size:14px; line-height:18px; margin:20px 5%\">\n1\/6 | True or False? What do you know about the Sun\n<\/div>\n<center class=\"poll-text\" style=\"margin:40px 50px\">\nThe Sun represents 99% of the total mass of the Solar System\n<\/center>\n<input type=\"hidden\" name=\"answer1\" id=\"poll_answer\" \/>"},{"alias":"","tag":"div","page":1,"attributes":[["class","poll-answer correct",null]],"events":[["onclick","checkAnswer(this)",null]],"styles":[["left","28px",null],["top","381px",null],["height","",null],["line-height","32px",null],["width","814px",null],["cursor","pointer",null],["padding-left","20px",null],["font-size","14px",null],["color","#EEEEEE",null]],"params":[],"content":"<div class=\"poll-answer-bg\" style=\"position:absolute; left:0; right:0; top:0; bottom:0; background:#CCCCCC; opacity:0.3; border:1px solid #FFFFFF;\"><\/div>\n<div>Yes, it is true<\/div>"},{"alias":"","tag":"div","page":1,"attributes":[["class","poll-answer incorrect",null]],"events":[["onclick","checkAnswer(this)",null]],"styles":[["left","28px",null],["top","436px",null],["height","",null],["line-height","32px",null],["color","#EEEEEE",null],["width","814px",null],["cursor","pointer",null],["padding-left","20px",null],["font-size","14px",null]],"params":[],"content":"<div class=\"poll-answer-bg\"  style=\"position:absolute; left:0; right:0; top:0; bottom:0; background:#CCCCCC; opacity:0.3; border:1px solid #FFFFFF;\"><\/div>\n<div>No, it is not true<\/div>"},{"alias":"","tag":"input","page":1,"attributes":[["type","button",""],["value","Continue",""],["class","action primary sfg-hidden",""],["name","",null],["id","next-btn",null]],"events":[],"styles":[["width","110px",""],["left","750px",null],["top","492px",null],["min-width","110px",null]],"params":[["on-click-action","1",null],["after-submit","0",null]]},{"alias":"","tag":"div","page":2,"attributes":[["class","sfg-poll-bg",null]],"events":[],"styles":[["left","0px",null],["top","0px",null],["width","900px",null],["height","550px",null],["background-image","url({base_url}pub\/media\/sfg\/images\/poll-03-gravity.jpg)",null],["color","#EEEEEE",null],["font-size","26px",null],["line-height","42px",null]],"params":[],"content":"<div style=\"font-size:14px; line-height:18px; margin:20px 5%\">\n2\/6 | True or False? What do you know about the Sun\n<\/div>\n<center class=\"poll-text\" style=\"margin:40px 50px\">\nThe Sun's gravity is stronger than on Earth. Thus the human weight would be less completely on the Sun\n<\/center>\n<input type=\"hidden\" name=\"answer2\" id=\"poll_answer\" \/>"},{"alias":"","tag":"div","page":2,"attributes":[["class","poll-answer incorrect",null]],"events":[["onclick","checkAnswer(this)",null]],"styles":[["left","28px",null],["top","381px",null],["height","",null],["line-height","32px",null],["width","814px",null],["cursor","pointer",null],["padding-left","20px",null],["font-size","14px",null],["color","#EEEEEE",null]],"params":[],"content":"<div class=\"poll-answer-bg\" style=\"position:absolute; left:0; right:0; top:0; bottom:0; background:#333333; opacity:0.3; border:1px solid #000000;\"><\/div>\n<div>Yes, it is true<\/div>"},{"alias":"","tag":"div","page":2,"attributes":[["class","poll-answer correct",null]],"events":[["onclick","checkAnswer(this)",null]],"styles":[["left","28px",null],["top","436px",null],["height","",null],["line-height","32px",null],["color","#EEEEEE",null],["width","814px",null],["cursor","pointer",null],["padding-left","20px",null],["font-size","14px",null]],"params":[],"content":"<div class=\"poll-answer-bg\"  style=\"position:absolute; left:0; right:0; top:0; bottom:0; background:#333333; opacity:0.3; border:1px solid #000000;\"><\/div>\n<div>No, it is not true<\/div>"},{"alias":"","tag":"input","page":2,"attributes":[["type","button",""],["value","Continue",""],["class","action primary sfg-hidden",""],["name","",null],["id","next-btn",null]],"events":[],"styles":[["width","110px",""],["left","750px",null],["top","492px",null],["min-width","110px",null]],"params":[["on-click-action","1",null],["after-submit","0",null]]},{"alias":"","tag":"div","page":3,"attributes":[["class","sfg-poll-bg",null]],"events":[],"styles":[["left","0px",null],["top","0px",null],["width","900px",null],["height","550px",null],["background-image","url({base_url}pub\/media\/sfg\/images\/poll-04-closest-planet.jpg)",null],["color","#EEEEEE",null],["font-size","26px",null],["line-height","42px",null]],"params":[],"content":"<div style=\"font-size:14px; line-height:18px; margin:20px 5%\">\n3\/6 | True or False? What do you know about the Sun\n<\/div>\n<center class=\"poll-text\" style=\"margin:140px 50px\">\nWhat is the closest planet to the Sun?\n<\/center>\n<input type=\"hidden\" name=\"answer3\" id=\"poll_answer\" \/>"},{"alias":"","tag":"div","page":3,"attributes":[["class","poll-answer correct fixed",null]],"events":[["onclick","checkAnswer(this)",null]],"styles":[["left","167px",null],["top","287px",null],["height","",null],["line-height","32px",null],["width","200px",null],["cursor","pointer",null],["font-size","14px",null],["color","#EEEEEE",null],["min-width","120px",null]],"params":[],"content":"<div class=\"poll-answer-bg\" style=\"position:absolute; left:0; right:0; top:0; bottom:0; background:#CCCCCC; opacity:0.3; border:1px solid #FFFFFF;\"><\/div>\n<div style=\"text-align:center\">Mercury<\/div>"},{"alias":"","tag":"div","page":3,"attributes":[["class","poll-answer incorrect fixed",null]],"events":[["onclick","checkAnswer(this)",null]],"styles":[["left","573px",null],["top","289px",null],["height","",null],["line-height","32px",null],["color","#EEEEEE",null],["width","200px",null],["cursor","pointer",null],["font-size","14px",null],["min-width","120px",null]],"params":[],"content":"<div class=\"poll-answer-bg\"  style=\"position:absolute; left:0; right:0; top:0; bottom:0; background:#CCCCCC; opacity:0.3; border:1px solid #FFFFFF;\"><\/div>\n<div style=\"text-align:center\">Venus<\/div>"},{"alias":"","tag":"input","page":3,"attributes":[["type","button",""],["value","Continue",""],["class","action primary sfg-hidden",""],["name","",null],["id","next-btn",null]],"events":[],"styles":[["width","110px",""],["left","750px",null],["top","492px",null],["min-width","110px",null]],"params":[["on-click-action","1",null],["after-submit","0",null]]},{"alias":"","tag":"img","page":3,"attributes":[["src","{base_url}pub\/media\/sfg\/images\/poll-04-closest-planet-merc.gif",""],["alt","image",""]],"events":[],"styles":[["left","191px",null],["top","326px",null]],"params":[]},{"alias":"","tag":"img","page":3,"attributes":[["src","{base_url}pub\/media\/sfg\/images\/poll-04-closest-planet-venu.gif",""],["alt","image",""]],"events":[],"styles":[["left","600px",null],["top","326px",null]],"params":[]},{"alias":"","tag":"div","page":4,"attributes":[["class","sfg-poll-bg",null]],"events":[],"styles":[["left","0px",null],["top","0px",null],["width","900px",null],["height","550px",null],["background-image","url({base_url}pub\/media\/sfg\/images\/poll-05-vitamin-d.jpg)",null],["color","#FFFFFF",null],["font-size","26px",null],["line-height","42px",null]],"params":[],"content":"<div style=\"font-size:14px; line-height:18px; margin:20px 5%\">\n4\/6 | True or False? What do you know about the Sun\n<\/div>\n<center class=\"poll-text\" style=\"margin:30px 50px;\">\nA person can get vitamin D having sunbathes only\n<\/center>\n<input type=\"hidden\" name=\"answer4\" id=\"poll_answer\" \/>"},{"alias":"","tag":"div","page":4,"attributes":[["class","poll-answer incorrect",null]],"events":[["onclick","checkAnswer(this)",null]],"styles":[["left","28px",null],["top","381px",null],["height","",null],["line-height","32px",null],["width","814px",null],["cursor","pointer",null],["padding-left","20px",null],["font-size","14px",null],["color","#FFFFFF",null]],"params":[],"content":"<div class=\"poll-answer-bg\" style=\"position:absolute; left:0; right:0; top:0; bottom:0; background:#333333; opacity:0.7; border:1px solid #000000;\"><\/div>\n<div>Yes, it is true<\/div>"},{"alias":"","tag":"div","page":4,"attributes":[["class","poll-answer correct",null]],"events":[["onclick","checkAnswer(this)",null]],"styles":[["left","28px",null],["top","436px",null],["height","",null],["line-height","32px",null],["color","#FFFFFF",null],["width","814px",null],["cursor","pointer",null],["padding-left","20px",null],["font-size","14px",null]],"params":[],"content":"<div class=\"poll-answer-bg\"  style=\"position:absolute; left:0; right:0; top:0; bottom:0; background:#333333; opacity:0.7; border:1px solid #000000;\"><\/div>\n<div>No, it is not true<\/div>"},{"alias":"","tag":"input","page":4,"attributes":[["type","button",""],["value","Continue",""],["class","action primary sfg-hidden",""],["name","",null],["id","next-btn",null]],"events":[],"styles":[["width","110px",""],["left","750px",null],["top","492px",null],["min-width","110px",null]],"params":[["on-click-action","1",null],["after-submit","0",null]]},{"alias":"","tag":"div","page":5,"attributes":[["class","sfg-poll-bg",null]],"events":[],"styles":[["left","0px",null],["top","0px",null],["width","900px",null],["height","550px",null],["background-image","url({base_url}pub\/media\/sfg\/images\/poll-06-similar-systems.jpg)",null],["color","#EEEEEE",null],["font-size","26px",null],["line-height","42px",null]],"params":[],"content":"<div style=\"font-size:14px; line-height:18px; margin:20px 5%\">\n5\/6 | True or False? What do you know about the Sun\n<\/div>\n<center class=\"poll-text\" style=\"margin:40px 50px\">\nThere are no similar to ours solar systems in the Universe\n<\/center>\n<input type=\"hidden\" name=\"answer5\" id=\"poll_answer\" \/>"},{"alias":"","tag":"div","page":5,"attributes":[["class","poll-answer incorrect",null]],"events":[["onclick","checkAnswer(this)",null]],"styles":[["left","28px",null],["top","381px",null],["height","",null],["line-height","32px",null],["width","814px",null],["cursor","pointer",null],["padding-left","20px",null],["font-size","14px",null],["color","#EEEEEE",null]],"params":[],"content":"<div class=\"poll-answer-bg\" style=\"position:absolute; left:0; right:0; top:0; bottom:0; background:#CCCCCC; opacity:0.3; border:1px solid #FFFFFF;\"><\/div>\n<div>Yes, it is true<\/div>"},{"alias":"","tag":"div","page":5,"attributes":[["class","poll-answer correct",null]],"events":[["onclick","checkAnswer(this)",null]],"styles":[["left","28px",null],["top","436px",null],["height","",null],["line-height","32px",null],["color","#EEEEEE",null],["width","814px",null],["cursor","pointer",null],["padding-left","20px",null],["font-size","14px",null]],"params":[],"content":"<div class=\"poll-answer-bg\"  style=\"position:absolute; left:0; right:0; top:0; bottom:0; background:#CCCCCC; opacity:0.3; border:1px solid #FFFFFF;\"><\/div>\n<div>No, it is not true<\/div>"},{"alias":"","tag":"input","page":5,"attributes":[["type","button",""],["value","Continue",""],["class","action primary sfg-hidden",""],["name","",null],["id","next-btn",null]],"events":[],"styles":[["width","110px",""],["left","750px",null],["top","492px",null],["min-width","110px",null]],"params":[["on-click-action","1",null],["after-submit","0",null]]},{"alias":"","tag":"div","page":6,"attributes":[["class","sfg-poll-bg",null]],"events":[],"styles":[["left","0px",null],["top","0px",null],["width","900px",null],["height","550px",null],["background-image","url({base_url}pub\/media\/sfg\/images\/poll-07-northern-lights.jpg)",null],["color","#EEEEEE",null],["font-size","26px",null],["line-height","42px",null]],"params":[],"content":"<div style=\"font-size:14px; line-height:18px; margin:20px 5%\">\n6\/6 | True or False? What do you know about the Sun\n<\/div>\n<center class=\"poll-text\" style=\"margin:40px 50px\">\nThe Sun causes the Northern Lights\n<\/center>\n<input type=\"hidden\" name=\"answer6\" id=\"poll_answer\" \/>"},{"alias":"","tag":"div","page":6,"attributes":[["class","poll-answer correct",null]],"events":[["onclick","checkAnswer(this)",null]],"styles":[["left","28px",null],["top","381px",null],["height","",null],["line-height","32px",null],["width","814px",null],["cursor","pointer",null],["padding-left","20px",null],["font-size","14px",null],["color","#EEEEEE",null]],"params":[],"content":"<div class=\"poll-answer-bg\" style=\"position:absolute; left:0; right:0; top:0; bottom:0; background:#CCCCCC; opacity:0.3; border:1px solid #FFFFFF;\"><\/div>\n<div>Yes, it is true<\/div>"},{"alias":"","tag":"div","page":6,"attributes":[["class","poll-answer incorrect",null]],"events":[["onclick","checkAnswer(this)",null]],"styles":[["left","28px",null],["top","436px",null],["height","",null],["line-height","32px",null],["color","#EEEEEE",null],["width","814px",null],["cursor","pointer",null],["padding-left","20px",null],["font-size","14px",null]],"params":[],"content":"<div class=\"poll-answer-bg\"  style=\"position:absolute; left:0; right:0; top:0; bottom:0; background:#CCCCCC; opacity:0.3; border:1px solid #FFFFFF;\"><\/div>\n<div>No, it is not true<\/div>"},{"alias":"","tag":"input","page":6,"attributes":[["type","button",""],["value","Results",""],["class","action primary sfg-hidden",""],["name","",null],["id","next-btn",null]],"events":[],"styles":[["width","110px",""],["left","750px",null],["top","492px",null],["min-width","110px",null]],"params":[["on-click-action","1",null],["after-submit","0",null],["save-data",true,null]]},{"alias":"","tag":"div","page":7,"attributes":[["class","sfg-poll-bg",null]],"events":[],"styles":[["left","0px",null],["top","0px",null],["width","900px",null],["height","550px",null],["background-image","url({base_url}pub\/media\/sfg\/images\/poll-08-results.jpg)",null],["color","#EEEEEE",null],["font-size","26px",null],["line-height","42px",null]],"params":[],"content":"<center class=\"poll-text\" style=\"margin-top:40px\">\nPoll: What do you know about the Sun?<br \/>\n<b>Your results:<\/b><br \/>\n<div id=\"poll-radial-results\">\n<div class=\"overlay\">0 of 6<\/div>\n<\/div>\n<\/center>"}],"email_templates":[{"id":1,"name":"email to user","fromName":"admin of website","fromEmail":"admin@website.com","subject":"Your details on website.com","cc":"","bcc":"","body":"<p>{{template config_path=\"design\/email\/header_template\"}}<\/p>\n    <p><strong>Dear {{name}},<\/strong><\/p>\n    <p>Thank you for contacting us! One of our representatives will reply to you shortly.<\/p>\n    <p>Below is the information you posted:<\/p>\n    <p>{{%all_data%}}<\/p>\n    <p>{{template config_path=\"design\/email\/footer_template\"}}<\/p>","format":"1"},{"id":2,"name":"email to admin","fromName":"admin of website","fromEmail":"admin@website.com","subject":"New user details","cc":"","bcc":"","body":"<p>{{template config_path=\"design\/email\/header_template\"}}<\/p>\n    <p><strong>Hello Admin,<\/strong><\/p>\n    <p>The form has been submitted. Please find below the details:<\/p>\n    <p>{{%all_data%}}<\/p>\n    <p>{{template config_path=\"design\/email\/footer_template\"}}<\/p>","format":"1"},{"id":3,"name":"your custom email","fromName":"From Name","fromEmail":"from@email.com","subject":"Custom email subject","cc":"","bcc":"","body":"<p>{{template config_path=\"design\/email\/header_template\"}}<\/p>\n    <p>Fill in your custom email. You can create as meny templates as you wish. Click 'New Document' icon to start<\/p>\n    <p>&nbsp;<\/p>\n    <p>{{template config_path=\"design\/email\/footer_template\"}}<\/p>","format":"1"}],"validators":[{"alias":"Required","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = 'Field: %s. Field is required';\nmsg = msg.replace('%s', sfgName); \nif (obj.type && (obj.type.toLowerCase()=='checkbox' || obj.type.toLowerCase()=='radio') && !obj.checked) return msg; \nif (obj.tagName.toLowerCase()=='select' && (obj.selectedIndex==-1 || obj.selectedIndex==0)) return msg; \nif (obj.value=='') return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\nif (empty($value)) return 'Field: '.$this->getAlias().'. Field is required';"},{"alias":"Group Required","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = 'Group: %s. Please select a value';\nmsg = msg.replace('%s', sfgName); \nvar objs = document.getElementsByName(obj.name); \nvar checked = false; \nfor (i=0; i<objs.length; i++) if (objs[i].checked) { checked = true; break; } \nif (!checked) return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\nif (empty($value)) return 'Group: '.$this->getAlias().'. Please select a value';"},{"alias":"Check identical","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object, obj2 - another HTML element for comparing\nvar msg = 'Field: %s. Entities are not identical';\nmsg = msg.replace('%s', sfgName);\nvar el2 = document.getElementsByName(obj2)[0];\nif (el2 && obj.value != el2.value) return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\n$elements = $this->getForm()->getElementsByName($this->getParam('equal-to'));\n$value2 = count($elements) ? $elements[0]->getPostedValue() : null;\nif (!is_null($value2) && $value != $value2) return 'Fields '.$this->getAlias().' and '.$elements[0]->getAlias().' should be identical';"},{"alias":"Email","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = 'Field: %s. Invalid email. Please specify a valid value';\nmsg = msg.replace('%s', sfgName);\nvar RegExp=\/^((([a-z]|[0-9]|!|#|$|%|&|'|\\*|\\+|\\-|\\\/|=|\\?|\\^|_|`|\\{|\\||\\}|~)+(\\.([a-z]|[0-9]|!|#|$|%|&|'|\\*|\\+|\\-|\\\/|=|\\?|\\^|_|`|\\{|\\||\\}|~)+)*)@((((([a-z]|[0-9])([a-z]|[0-9]|\\-){0,61}([a-z]|[0-9])\\.))*([a-z]|[0-9])([a-z]|[0-9]|\\-){0,61}([a-z]|[0-9])\\.)[\\w]{2,4}|(((([0-9]){1,3}\\.){3}([0-9]){1,3}))|(\\[((([0-9]){1,3}\\.){3}([0-9]){1,3})\\])))$\/;\nif (obj.value!='' && !RegExp.test(obj.value.toLowerCase())) return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\n$RegExp=\"\/^((([a-z]|[0-9]|!|#|$|%|&|'|\\*|\\+|\\-|\\\/|=|\\?|\\^|_|`|\\{|\\||\\}|~)+(\\.([a-z]|[0-9]|!|#|$|%|&|'|\\*|\\+|\\-|\\\/|=|\\?|\\^|_|`|\\{|\\||\\}|~)+)*)@((((([a-z]|[0-9])([a-z]|[0-9]|\\-){0,61}([a-z]|[0-9])\\.))*([a-z]|[0-9])([a-z]|[0-9]|\\-){0,61}([a-z]|[0-9])\\.)[\\w]{2,4}|(((([0-9]){1,3}\\.){3}([0-9]){1,3}))|(\\[((([0-9]){1,3}\\.){3}([0-9]){1,3})\\])))$\/\";\nif (is_array($value) || $value && !preg_match($RegExp, strtolower($value))) return 'Field: '.$this->getAlias().'. Incorrect Email address';"},{"alias":"Zip","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = 'Field: %s. Please specify a correct zip\/postal';\nmsg = msg.replace('%s', sfgName);\nvar letters='qwertyuiopasdfghjklzxcvbnm -1234567890';\nvar ps=false;\nfor(i=0;i<obj.value.length;i++) if (letters.indexOf(obj.value.toLowerCase().substr(i,1))<0) ps=true;\nif (ps || obj.value.length>10) return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\nif (is_array($value)) $value = '*'; \/\/invalidate\nfor($i=0; $i<strlen($value); $i++) {\n    if (strpos('qwertyuiopasdfghjklzxcvbnm -1234567890', substr(strtolower($value), $i, 1))===false) return 'Field: '.$this->getAlias().'. Please specify a correct zip\/postal';\n}"},{"alias":"ZipUS","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = 'Field: %s. Invalid US Zip. Please specify a valid value';\nmsg = msg.replace('%s', sfgName);\nvar zipPattern1=\/^(\\d{5})$\/;\nvar zipPattern2=\/^(\\d{5})\\-(\\d{4})$\/;\nif ((obj.value.match(zipPattern1)==null)&&(obj.value.match(zipPattern2)==null)&&obj.value.length>0) return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\n$zipPattern1=\"\/^(\\d{5})$\/\";\n$zipPattern2=\"\/^(\\d{5})\\-(\\d{4})$\/\";\nif (is_array($value) || $value && !preg_match($zipPattern1, $value) && !preg_match($zipPattern2, $value)) return 'Field: '.$this->getAlias().'. Incorrect Zip';"},{"alias":"Phone","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = 'Field: %s. Please specify a correct phone number';\nmsg = msg.replace('%s', sfgName);\nvar letters='1234567890 -.()+';\nvar ps=false;\nfor(i=0;i<obj.value.length;i++) if (letters.indexOf(obj.value.toLowerCase().substr(i,1))<0) ps=true;\nif (ps || obj.value.length>10) return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\nfor($i=0; $i<strlen($value); $i++) {\n    if (strpos('1234567890 -.()+', substr($value, $i, 1))===false) return 'Field: '.$this->getAlias().'. Incorrect phone number';\n}"},{"alias":"PhoneUS","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = 'Field: %s. Invalid value! Please, provide a phone number in format XXX-XXX-XXXX, where X is a digit.';\nmsg = msg.replace('%s', sfgName);\nvar phonePattern=\/^(\\d{3})\\-(\\d{3})\\-(\\d{4})$\/;\nif ((obj.value.match(phonePattern)==null)&&obj.value.length>0) return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\n$phonePattern=\"\/^(\\d{3})\\-(\\d{3})\\-(\\d{4})$\/\";\nif (is_array($value) || $value && !preg_match($phonePattern, $value)) return 'Field: '.$this->getAlias().'. Please, provide a phone number in format XXX-XXX-XXXX, where X is a digit';"},{"alias":"Password","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = 'Field: %s. The password should contain 6 to 12 symbols';\nmsg = msg.replace('%s', sfgName);\nif ((obj.value.length<6 || obj.value.length>12) && obj.value.length!=0) return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\nif (is_array($value) || $value && (strlen($value) < 6 || strlen($value) > 12)) return 'Field: '.$this->getAlias().'. The password should have 6 to 12 symbols';"},{"alias":"CreditCardNumber","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = 'Field: %s. Please specify a correct credit card number';\nmsg = msg.replace('%s', sfgName);\nvar ccPattern=\/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\\d{3})\\d{11})$\/;\nif ((obj.value.match(ccPattern)==null)&&obj.value.length>0) return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\n$ccPattern=\"\/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\\d{3})\\d{11})$\/\";\nif (is_array($value) || $value && !preg_match($ccPattern, strtolower($value))) return 'Field: '.$this->getAlias().'. Incorrect credit card number';"},{"alias":"CreditCardCVV","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = 'Field: %s. Please specify a correct credit card CVV';\nmsg = msg.replace('%s', sfgName);\nvar letters='1234567890';\nvar ps=false;\nfor(i=0;i<obj.value.length;i++) if (letters.indexOf(obj.value.toLowerCase().substr(i,1))<0) ps=true;\nif (ps || (obj.value.length<3 && obj.value.length!=0) || obj.value.length>4) return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\nif (is_array($value) || $value && (strlen($value) < 3 || strlen($value) > 4 || !is_numeric($value))) return 'Field: '.$this->getAlias().'. Incorrect credit card CVV';"},{"alias":"Money","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = 'Field: %s. Please specify currency correctly';\nmsg = msg.replace('%s', sfgName);\nvar letters='1234567890.';\nvar ps=false; for(i=0;i<obj.value.length;i++) if (letters.indexOf(obj.value.toLowerCase().substr(i,1))<0) ps=true;\nif (ps || obj.value.length>10 || Math.floor(obj.value*100)\/100!=obj.value-0) return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\nif (is_array($value) || $value && (floor(floatval($value)*100)\/100!=floatval($value) || !is_numeric($value))) return 'Field: '.$this->getAlias().'. Incorrect amount';"},{"alias":"URL","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = 'Field: %s. Please specify a valid URL';\nmsg = msg.replace('%s', sfgName);\nvar RegExp=\/^(([\\w]+:)?\\\/\\\/)?(([\\d\\w]|%[a-fA-f\\d]{2,2})+(:([\\d\\w]|%[a-fA-f\\d]{2,2})+)?@)?([\\d\\w][-\\d\\w]{0,253}[\\d\\w]\\.)+[\\w]{2,4}(:[\\d]+)?(\\\/([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)*(\\?(&?([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})=?)*)?(#([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)?$\/;\nif (obj.value!='' && !RegExp.test(obj.value)) return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\n$RegExp=\"\/^(([\\w]+:)?\\\/\\\/)?(([\\d\\w]|%[a-fA-f\\d]{2,2})+(:([\\d\\w]|%[a-fA-f\\d]{2,2})+)?@)?([\\d\\w][-\\d\\w]{0,253}[\\d\\w]\\.)+[\\w]{2,4}(:[\\d]+)?(\\\/([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)*(\\?(&?([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})=?)*)?(#([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)?$\/\";\nif (is_array($value) || $value && !preg_match($RegExp, strtolower($value))) return 'Field: '.$this->getAlias().'. Incorrect URL';"},{"alias":"IP","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = 'Field: %s. Please specify a correct IP';\nmsg = msg.replace('%s', sfgName);\nvar RegExp=\/^(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})$\/;\nvar a=obj.value.split('.');\nif (obj.value!='' && !RegExp.test(obj.value) || a[0]>255 || a[1]>255 || a[2]>255 || a[3]>255) return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\nif (is_array($value) || $value && ip2long($value) === false) return 'Field: '.$this->getAlias().'. Incorrect IP';"},{"alias":"SSN","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = 'Field: %s. Invalid value! Please, provide a SSN in format XXX-XX-XXXX or XX-XXXXXXX, where X is a digit.';\nmsg = msg.replace('%s', sfgName);\nvar ssnPattern1 = \/^(\\d{3})\\-(\\d{2})\\-(\\d{4})$\/;\nvar ssnPattern2 = \/^(\\d{2})\\-(\\d{7})$\/;\nif ((obj.value.match(ssnPattern1)==null)&&(obj.value.match(ssnPattern2)==null)&&obj.value.length>0) return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\n$ssnPattern1=\"\/^(\\d{3})\\-(\\d{2})\\-(\\d{4})$\/\";\n$ssnPattern2=\"\/^(\\d{2})\\-(\\d{7})$\/\";\nif (is_array($value) || $value && !preg_match($ssnPattern1, $value) && !preg_match($ssnPattern2, $value)) return 'Field: '.$this->getAlias().'. SSN should be in format XXX-XX-XXXX or XX-XXXXXXX, where X is a digit.';"},{"alias":"Date","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = 'Field: %s. Invalid value! Field value should be in MM\/DD\/YYYY format.';\nmsg = msg.replace('%s', sfgName);\nvar a=obj.value.split('\/');\nif (a[0]-0>0 && a[0]-0<=12 && a[1]-0>0 && a[1]-0<=31 && a[2]-0>1000 && a[2]-0<=9999 && a[3]==null ||obj.value.length==0) return null; else return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\n$datePattern=\"\/^(\\d{1,2})\\\/(\\d{1,2})\\\/(\\d{4})$\/\";\nif (is_array($value) || $value && !preg_match($datePattern, $value)) return 'Field: '.$this->getAlias().'. Date should be in MM\/DD\/YYYY format.';"},{"alias":"DateShort","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = 'Field: %s. Invalid value! Field value should be in MM\/DD\/YY format';\nmsg = msg.replace('%s', sfgName);\nvar a=obj.value.split('\/');\nif (a[0]-0>0 && a[0]-0<=12 && a[1]-0>0 && a[1]-0<=31 && a[2]-0>=0 && a[2]-0<=99 && a[3]==null ||obj.value.length==0) return null; else return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\n$datePattern=\"\/^(\\d{1,2})\\\/(\\d{1,2})\\\/(\\d{2})$\/\";\nif (is_array($value) || $value && !preg_match($datePattern, $value)) return 'Field: '.$this->getAlias().'. Date should be in MM\/DD\/YY format.';"},{"alias":"Time","js":"\/\/ incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = 'Field: %s. Invalid value! Field value should be in HH:MM format.';\nmsg = msg.replace('%s', sfgName);\nvar a=obj.value.split(':');\nif (a[0]-0>=0 && a[0]-0<24 && a[1]-0>=0 && a[1]-0<60 && a[2]==null ||obj.value.length==0) return null; else return msg;","php":"\/\/ $this is the Element object\n$value = $this->getPostedValue();\n$timePattern=\"\/^(\\d{1,2})\\:(\\d{2})$\/\";\nif (is_array($value) || $value && !preg_match($timePattern, $value)) return 'Field: '.$this->getAlias().'. Time should be in HH:MM format.';"}]}]